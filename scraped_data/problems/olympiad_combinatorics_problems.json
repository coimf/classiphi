{"1964_imo_problems/problem_4": {"id": {"year": 1964, "contest_name": "IMO", "problem_number": 4}, "title": "1964 IMO Problems/Problem 4", "problem": "Seventeen people correspond by mail with one another - each one with all\nthe rest. In their letters only three different topics are discussed. Each pair\nof correspondents deals with only one of these topics. Prove that there are\nat least three people who write to each other about the same topic.", "answer_choices": "frq", "answer": "", "solutions": ["Lemma: Consider a complete graph with 6 vertices colored with 2 colors. There exists a monochromatic triangle.Proof: Consider one vertex and all connections leading out from it. Call it $V_1$. It has 5 edges coming out from it. By the Pigeonhole Principle, there are at least 3 of the same color. Call this color red. Call those vertices $V_2$, $V_3$ and $V_4$. If any of the segments $V_2V_3$, $V_2V_4$, or $V_3V_4$ are red, then we have a monochromatic triangle with vertices $V_1$ and the other two that are also red. If they are all the other color, then we have a monochromatic triangle with vertices $V_2$, $V_3$, and $V_4$. $\\blacksquare$Main Problem: Represent these people as vertices on a connected graph with 17 vertices and colored with 3 colors, one corresponding with each topic. So this problem is reduced to showing that on a connected graph with 17 vertices and colored with three colors, there exists some monochromatic triangle. Look at an arbitrary vertex. Call it $V_1$. Look at the 16 other vertices that it is connected to. By the Pigeonhole Principle, there are at least 6 vertices connected to $V_1$ that are all one color. Call this color 1. If any of the connections inbetween these six vertices are in color 1, then we are done. If none of them are color 1, we know that that there are only 2 colors in those 6 vertices. By Lemma 1, we know that there is a monochromatic triangle in those 6 vertices. So we are done.Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1972_imo_problems/problem_1": {"id": {"year": 1972, "contest_name": "IMO", "problem_number": 1}, "title": "1972 IMO Problems/Problem 1", "problem": "Prove that from a set of ten distinct two-digit numbers (in the decimal system), it is possible to select two disjoint subsets whose members have the same sum.", "answer_choices": "frq", "answer": "", "solutions": ["There are $2^{10}-2=1022$ distinct subsets of our set of 10 two-digit numbers. The sum of the elements of any subset of our set of 10 two-digit numbers must be between $10$ and $90+91+92+93+94+95+96+97+98+99 < 10 \\cdot 100 = 1000$. (There are fewer attainable sums.) As $1000 < 1022$, the Pigeonhole Principle implies there are two distinct subsets whose members have the same sum. Let these sets be $A$ and $B$. Now, let $A' = A - (A \\cap B)$ and $B' = B - (A \\cap B)$. Notice $A'$ and $B'$ are disjoint. They are also nonempty because if $A = A \\cap B$ or $B = A \\cap B$, then one of $A$ and $B$ is a subset of the other, so they are either not distinct or have different sums. Therefore $A'$ and $B'$ are disjoint subsets our set of 10 distinct two-digit numbers, which proves the claim. $\\square$"]}, "1972_usamo_problems/problem_3": {"id": {"year": 1972, "contest_name": "USAMO", "problem_number": 3}, "title": "1972 USAMO Problems/Problem 3", "problem": "A random number selector can only select one of the nine integers 1, 2,..., 9, and it makes these selections with equal probability. Determine the probability that after $n$ selections ( $n>1$ ), the product of the $n$ numbers selected will be divisible by 10.", "answer_choices": "frq", "answer": "1-(8/9)^n-(5/9)^n+(4/9)^n", "solutions": ["For the product to be divisible by 10, there must be a factor of 2 and a factor of 5 in there.The probability that there is no 5 is $\\left( \\frac{8}{9}\\right)^n$.The probability that there is no 2 is $\\left( \\frac{5}{9}\\right)^n$.The probability that there is neither a 2 nor 5 is $\\left( \\frac{4}{9}\\right)^n$, which is included in both previous cases.The only possibility left is getting a 2 and a 5, making the product divisible by 10.\nBy complementarity and principle of inclusion-exclusion, the probability of that is $1- \\left( \\left( \\frac{8}{9}\\right)^n + \\left( \\frac{5}{9}\\right)^n - \\left( \\frac{4}{9}\\right)^n\\right)=\\boxed{1-(8/9)^n-(5/9)^n+(4/9)^n}$.", "Define $a_n$ as the probability that the product is divisible by $10$ after selection $n$. Likewise, define $b_n$ and $c_n$ with divisibility by $2$ and $5$, respectively. Define $d_n$ to be the chance of dividing neither $2$ nor $5$ (and thus not $10$ either) similarly.It is clear that $d_n=\\left(\\frac{4}{9}\\right)^n$. Now we can define other recursive formulas:We are able to reach a $b$ state via selecting a non- $5$ from a $b$ state and selecting an even number from a $d$ state. Thus its formula is $b_n=\\frac{8}{9}b_{n-1}+\\frac{4}{9}d_{n-1}$.We are able to reach a $c$ state via selecting a non-even number from a $c$ state and selecting a $5$ from a $d$ state. Thus its formula is $c_n=\\frac{5}{9}c_{n-1}+\\frac{1}{9}d_{n-1}$.Finally, to reach an $a$ state, we can select a $5$ from a $b$ state and select an even number from a $c$ state. We can also reach $a_n$ from $a_{n-1}$ because of the fact that once the product is divisible by $10$, it will always be divisible by $10$ regardless of the following selections. Thus its formula is $a_n=a_{n-1}+\\frac{1}{9}b_{n-1}+\\frac{4}{9}c_{n-1}$.For our formula for $b_n$, we can substitute to find that $b_n=\\frac{8}{9}b_{n-1}+\\left(\\frac{4}{9}\\right)^n$. Solving this recursion yields $b_n=\\left(\\frac{8}{9}\\right)^n-\\left(\\frac{4}{9}\\right)^n$.For our formula for $c_n$, we can substitute to find that $c_n=\\frac{5}{9}c_{n-1}+\\frac{1}{9}\\cdot\\left(\\frac{4}{9}\\right)^{n-1}$. Solving this recursion yields $c_n=\\left(\\frac{5}{9}\\right)^n-\\left(\\frac{4}{9}\\right)^n$.Finally, substituting the values into the $a_n$ formula yields $a_n=a_{n-1}+\\frac{1}{9}\\left(\\left(\\frac{8}{9}\\right)^{n-1}+4\\cdot\\left(\\frac{5}{9}\\right)^{n-1}-5\\cdot\\left(\\frac{4}{9}\\right)^{n-1}\\right)$. Solving this recursion yields the final answer, $\\boxed{1-\\left(\\frac{8}{9}\\right)^n-\\left(\\frac{5}{9}\\right)^n+\\left(\\frac{4}{9}\\right)^n}$.~eevee9406Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1973_usamo_problems/problem_3": {"id": {"year": 1973, "contest_name": "USAMO", "problem_number": 3}, "title": "1973 USAMO Problems/Problem 3", "problem": "Three distinct vertices are chosen at random from the vertices of a given regular polygon of $(2n+1)$ sides. If all such choices are equally likely, what is the probability that the center of the given polygon lies in the interior of the triangle determined by the three chosen random points?", "answer_choices": "frq", "answer": "\\frac{n+1}{4n-2}", "solutions": ["There are $\\binom{2n+1}{3}$ ways how to pick the three vertices. We will now count the ways where the interior does NOT contain the center. These are obviously exactly the ways where all three picked vertices lie among some $n+1$ consecutive vertices of the polygon.\nWe will count these as follows: We will go clockwise around the polygon. We can pick the first vertex arbitrarily ( $2n+1$ possibilities). Once we pick it, we have to pick $2$ out of the next $n$ vertices ( $\\binom{n}{2}$ possibilities).Then the probability that our triangle does NOT contain the center is\n\n\\[p = \\frac{ (2n+1){\\binom{n}{2}} }{ {\\binom{2n+1}{3} } } = \\frac{ (1/2)(2n+1)(n)(n-1) }{ (1/6)(2n+1)(2n)(2n-1) } = \\frac{ 3n-3 }{ 4n-2 }\\]And then the probability we seek is\n\n\\[1-p = \\frac{ (4n-2) - (3n-3) }{ (4n-2) } = \\boxed{\\frac{n+1}{4n-2}}\\]", "However, for $n = 1$, (a rare edge case), the circumcenter of the triangle must lie in the center of the triangle, which is notably difficult to prove if not assumed, resulting in a probability of $1$.Observe that the probability tends to $\\frac{1}{4}$ as $n$ approaches infinity. Why does this occur?Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1974_usamo_problems/problem_4": {"id": {"year": 1974, "contest_name": "USAMO", "problem_number": 4}, "title": "1974 USAMO Problems/Problem 4", "problem": "A father, mother and son hold a family tournament, playing a two person board game with no ties. The tournament rules are: (i) The weakest player chooses the first two contestants. (ii) The winner of any game plays the next game against the person left out. (iii) The first person to win two games wins the tournament. The father is the weakest player, the son the strongest, and it is assumed that any player's probability of winning an individual game from another player does not change during the tournament. Prove that the father's optimal strategy for winning the tournament is to play the first game with his wife.", "answer_choices": "frq", "answer": "", "solutions": ["There are three possible strategies for the father:1) Sit out the first game2) Play the first game against the weaker of the other two players (the mother). This person is referred to throughout the solution as \"the weaker player\".3) Play the first game against the stronger of the other two players (the son). This person is referred to throughout the solution as \"the stronger player\".Strategy 1 is dominated by both strategy 2 and strategy 3. If strategy 1 is used and the weaker player wins the first game, it becomes strategy 2, but with the father starting behind 0-1. Likewise, if strategy 1 is used and the stronger player wins the first game, it becomes strategy 3, but with the father again starting behind 0-1.Thus, the father must play the first game.By the pigeonhole principle, there may be no more than 4 games; once the 4th game is finished, someone will have won two games. Let $W$ denote a game the father wins, let $L$ denote a game the father loses, and let $x$ denote a game the father does not participate in. Then, with the knowledge that the father plays the first game, the following ways for the father to win two games are possible:(A) $WW$(B) $WLxW$(C) $LxWW$If the father wins the first game, then he must either win the second game (A), or sit out the third game to win the fourth game (B).\nIf the father loses the first game, then he must sit out the second game and win the third and fourth games (C).Now we must determine which gives the largest probability of the father winning: playing the first game against the weaker player or the stronger player. We define the following probabilities:$x$ is the chance of the father defeating the weaker player. $(1-x)$ is the chance of the weaker player defeating the father.$y$ is the chance of the father defeating the stronger player. $(1-y)$ is the chance of the stronger player defeating the father.$z$ is the chance of the weaker player defeating the stronger player. $(1-z)$ is the chance of the stronger player defeating the weaker player.Note that $x > y$, and all of $x, y$ and $z$ are less than $0.5$.If the father plays the weaker player first, we split the probability of winning the tournament in the three mutually exclusive cases above:$P(A) = xy$ because the father must defeat the weaker player, then the father must defeat the stronger player.$P(B) = x(1-y)zx$ because the father must defeat the weaker player, then stronger player must defeat the father. Third, the weaker player must defeat the stronger player (because if the stronger player wins a second game, the tournament is over). Fourth, the father plays the weaker player a second time and must win.$P(C) = (1-x)(1-z)yx$ because the weaker player must defeat the father, followed by the stronger player defeating the weaker player (because if the weaker player wins two in a row, he wins the tournament). The father must then defeat the stronger player and the weaker player in the third and fourth game, respectively.From this, the total probability of the father winning by playing the weaker player first is:$P(TOTAL) = P(A) + P(B) + P(C) = xy + x(1-y)zx + (1-x)(1-z)yx$Likewise, we compute the probability of the father winning if he plays the stronger player first. We do this by symmetry:All $x$ will turn into $y$, because whenever the father defeated the weaker player before, he must defeat the stronger player now.All $y$ will turn into $x$, because whenever the father defeated the stronger player before, he must defeat the weaker player now.All $z$ will turn into $(1-z)$, because whenever the weaker player defeated the stronger player, now the stronger player must defeat the weaker player.All $(1-z)$ will turn into $z$, because whenever the stronger player defeated the weaker player, now the weaker player must defeat the stronger player.Applying these transformations and calling the new probabilities $P'$, we find that:$P'(TOTAL) = P'(A) + P'(B) + P'(C) = yx + y(1-x)(1-z)y + (1-y)zxy$We compare these probabilities.$P(A) = P'(A)$. This makes sense, as the probabilitiy of the father winning the first two games is the same, regardless of the order in which they are played.$P(B) > P'(C)$ : Calculating $P(B) / P'(C)$, we get $x^2(1-y)z / xy(1-y)z$, which simplifies to $x/y$.Since $x > y$$x/y > 1$$P(B) / P'(C) > 1$so $P(B) > P'(C)$.$P(C) > P'(B)$ : Calculating $P(C) / P'(B)$, we get $(1-x)(1-z)yx / (1-x)(1-z)y^2$, which simpllifies again to $x/y$. Thus, $P(C) > P'(B)$Adding the above equations and inequalities, we see that $P(TOTAL) > P'(TOTAL)$, and thus the father is better off playing the weaker of the two players (ie the mother) first.Let the probability of the father winning against the son be $a$, the father winning against the mother be $b$, and the son winning against the mother be $c$. Here $a<b<\\frac{1}{2}$ and $c>\\frac{1}{2}$.We define three first game cases as above:1. Father vs Mother2. Father vs Son3. Mother vs SonThe probability that the father wins (1) (by casework or tree) is $P(1)=ab+b^2(1-a)(1-c)+(1-b)abc$.The probability that the father wins (2) is $P(2)=ab+a^2c(1-b)+ab(1-a)(1-c)$.The probability that the father wins (3) is $P(3)=ab$.Evidently $P(1)>P(3)$, so all that is left is to prove that $P(1)>P(2)$.$P(1)>P(2)$$ab+b^2(1-a)(1-c)+(1-b)abc>ab+a^2c(1-b)+ab(1-a)(1-c)$$b^2(1-a)(1-c)+(1-b)abc>a^2c(1-b)+ab(1-a)(1-c)$$b(b-a)(1-a)(1-c)>ac(a-b)(1-b)$Using the fact that $a<b$, we easily find that the LHS is positive while the RHS is negative, proving the inequality.~eevee9406Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1975_usamo_problems/problem_5": {"id": {"year": 1975, "contest_name": "USAMO", "problem_number": 5}, "title": "1975 USAMO Problems/Problem 5", "problem": "A deck of $n$ playing cards, which contains three aces, is shuffled at random (it is assumed that all possible card distributions are equally likely). The cards are then turned up one by one from the top until the second ace appears. Prove that the expected (average) number of cards to be turned up is $(n+1)/2$.", "answer_choices": "frq", "answer": "", "solutions": ["We begin by induction. Our base case is naturally when $n = 3$, as there can be no less than $3$ cards in the deck. The only way to turn up the second ace is to turn up the first, and then turn up the second, which requires $2$ moves. This indeed is equal to $(3 + 1)/2$. Next, we assume that the expected number of cards required to pull the second ace from a deck of n cards is in fact $(n + 1)/2$. Now, we see that to simulate the case with $n + 1$ cards, we simply must add a card to our deck. By our assumption, we can expect to turn up $(n + 1)/2$ cards to be turned up, including our second ace. Thus ahead of our second ace, we expect $(n - 1)/2$ cards, and after it $(n - 1)/2$ as well. When we add our card, it is ahead of the second ace half the time, and behind if half the time. Therefore we expect to add one card to the number of cards drawn half the time, and add nothing for half the time. Hence we expect to add half a card, and the expected value is now $((n + 1)/2) + 1/2)$, or $(n + 2)/2$, the desired outcome for the $n + 1$ case.Although we can induct as in the situation above, we can use a more direct approach.Consider a deck. The second ace is in the $k$ th place. If we draw the deck backwards (which has equal probability as drawing it forwards), then we will draw it in the $n+1-k$ th place, since the $n$ th place will become the first, the $n-1$ th the second, etc.Also, note that when second ace is still the second ace when we draw the deck backwards. (we need to note this, else this argument holds for the first ace and third ace as well)Now, this implies that the expected location of the second ace is in the $(k+n+1-k)/2=(n+1)/2$ place.Like Solution 2, this solution is also a direct solution.The three aces divide the deck into four piles with a non-negative number of cards. Let $a$, $b$, $c$, and $d$ be the number of cards in the first, second, third, and fourth piles, respectively, given a random deck $D$. Also, let $E(a), E(b), E(c), E(d)$ denote the expected value of $a$, $b$, $c$, and $d$ over all decks $D$. Then $a + b + c + d = n - 3$ (the deck minus the three aces).For every deck $D$, there must exist other decks that permute the values of $a$, $b$, $c$, $d$. (i.e. if there is a deck with $a = 2, b = 3, c = 1, d = 4,$ there exists a deck with $a = 1, b = 2, c = 3, d = 4$.) Therefore, the value of $a$ over all decks $D$ is a permutation of the value of $b$ over all such decks, and as a result $E(a) = E(b)$. A similar result holds for $b$, $c$, and $d$, and so $E(a) = E(b) = E(c) = E(d)$. Because\n\n\\[E(a) + E(b) + E(c) + E(d) = E(a + b + c + d) = E(n-3) = n-3,\\]\n\n$E(a) = E(b) = \\frac{n-3}{4}$. We want to compute the number of cards up to and including the second ace, which is just\n\n\\[E(a) + 1 + E(b) + 1 = \\frac{n-3}{2} + 2 = \\frac{n+1}{2},\\]\n\nas desired.Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1976_usamo_problems/problem_1": {"id": {"year": 1976, "contest_name": "USAMO", "problem_number": 1}, "title": "1976 USAMO Problems/Problem 1", "problem": "[asy] void fillsq(int x, int y){ fill((x,y)--(x+1,y)--(x+1,y+1)--(x,y+1)--cycle, mediumgray); } int i; fillsq(1,0);fillsq(4,0);fillsq(6,0); fillsq(0,1);fillsq(1,1);fillsq(2,1);fillsq(4,1);fillsq(5,1); fillsq(0,2);fillsq(2,2);fillsq(4,2); fillsq(0,3);fillsq(1,3);fillsq(4,3);fillsq(5,3); for(i=0; i<=7; ++i){draw((i,0)--(i,4),black+0.5);} for(i=0; i<=4; ++i){draw((0,i)--(7,i),black+0.5);} draw((3,1)--(3,3)--(7,3)--(7,1)--cycle,black+1); [/asy] (a) Suppose that each square of a $4\\times 7$ chessboard, as shown above, is colored either black or white. Prove that with any such coloring, the board must contain a rectangle (formed by the horizontal and vertical lines of the board such as the one outlined in the figure) whose four distinct unit corner squares are all of the same color. (b) Exhibit a black-white coloring of a $4\\times 6$ board in which the four corner squares of every rectangle, as described above, are not all of the same color.", "answer_choices": "frq", "answer": "", "solutions": ["There are many ways to prove the first part, we will show one.Consider the first row. It contains at least four cells of the same color, say white. Pick any four such cells. Let's now consider these four columns only. If any of the remaining three rows contains two white cells in some of these columns, we are done. Otherwise, we have the following situation: three rows times four columns, and in each row there is at most one white cell. We can now pick any two rows and then find two columns such that all four cells where they intersect are black, and we are done. (Note that this proof in fact shows that already in a $3\\times 7$ board there must be such a rectangle.)For the second part, consider the board shown below. Its six columns contain the six different permutations of two white and two black squares. From this observation it is immediately obvious that no two columns agree on two cells of the same color.[asy] void fillsq(int x, int y){ fill((x,y)--(x+1,y)--(x+1,y+1)--(x,y+1)--cycle, mediumgray); } int i; fillsq(0,0);fillsq(0,1); fillsq(1,0);fillsq(1,2); fillsq(2,0);fillsq(2,3); fillsq(3,1);fillsq(3,2); fillsq(4,1);fillsq(4,3); fillsq(5,2);fillsq(5,3); for(i=0; i<=6; ++i){draw((i,0)--(i,4),black+0.5);} for(i=0; i<=4; ++i){draw((0,i)--(6,i),black+0.5);} [/asy]", "We will prove the first part by the pigeonhole principle. To form a rectangle, two squares have in one column have to be colored the same color as the corresponding squares in another column. In the example given, the two second and third squares of the fourth and seventh columns are all white. When coloring this rectangle, every column can be entirely one color, have 3 squares be of one color, or have 2 squares be of one color. Coloring each column with two white squares and two black squares will minimize the number of squares, since a smaller fraction of the column is one color (if more than 2 squares in the same column are the same color, then there is more than one coloring in another column that can create a rectangle). There are ${4}\\choose{2}$, or $6$ different ways a column can be colored with two white and two black squares. We need the same coloring in two different columns to create a rectangle, and this is guaranteed with 7 columns by the pigeonhole principle.For the second part, we can draw a rectangle with each column having a different coloring with 2 black and 2 white squares. One such rectangle is shown below:[asy] void fillsq(int x, int y){ fill((x,y)--(x+1,y)--(x+1,y+1)--(x,y+1)--cycle, mediumgray); } int i; fillsq(0,3);fillsq(0,2); fillsq(1,3);fillsq(1,1); fillsq(2,3);fillsq(2,0); fillsq(3,2);fillsq(3,1); fillsq(4,2);fillsq(4,0); fillsq(5,1);fillsq(5,0); for(i=0; i<=6; ++i){draw((i,0)--(i,4),black+0.5);} for(i=0; i<=4; ++i){draw((0,i)--(6,i),black+0.5);} [/asy]Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1978_usamo_problems/problem_5": {"id": {"year": 1978, "contest_name": "USAMO", "problem_number": 5}, "title": "1978 USAMO Problems/Problem 5", "problem": "Nine mathematicians meet at an international conference and discover that among any three of them, at least two speak a common language. If each of the mathematicians speak at most three languages, prove that there are at least three of the mathematicians who can speak the same language.", "answer_choices": "frq", "answer": "", "solutions": ["Suppose no three mathematicians speak the same language. Then person A can share some language with at most 3 other delegates, because if he shared some language with 4 delegates there would be 3 with the same language. So there are 5 delegates who do not share a language with A. Let one of them be B. Using the same logic, one the remaining 4, let it be C, does not share a language with B. Now A, B, C do not have any common languages. Contradiction."]}, "1979_usamo_problems/problem_3": {"id": {"year": 1979, "contest_name": "USAMO", "problem_number": 3}, "title": "1979 USAMO Problems/Problem 3", "problem": "$a_1, a_2, \\ldots, a_n$ is an arbitrary sequence of positive integers. A member of the sequence is picked at\nrandom. Its value is $a$. Another member is picked at random, independently of the first. Its value is $b$. Then a third value, $c$. Show that the probability that $a + b +c$ is divisible by $3$ is at least $\\frac14$. The given problem is equivalent to proving that $4(x^3 + y^3 + z^3 + 6xyz) \\ge (x + y + z)^3$. Try proving this inequality for all nonnegative real numbers x, y, z; not just positive integers. Prove that $x^3 + y^3 + z^3 + 3xyz \\ge x^2(y+z) + y^2(x+z) + z^2(x+y).$", "answer_choices": "frq", "answer": "", "solutions": ["Let x equal the probability of picking an element of the sequence equivalent to 0 mod 3, y equal those 1 mod 3, and z equal those 2 mod 3. Then, considering that 0+0+0, 1+1+1, 2+2+2, and 0+1+2 are divisible by 3, we obtain the equivalent inequality in the First Hint. This simplifies to $x^3 + y^3 + z^3 + 6xyz \\ge x^2(y+z) + y^2(x+z) + z^2(x+y).$ Now, we attempt to prove that $x^3 + y^3 + z^3 + 3xyz \\ge x^2(y+z) + y^2(x+z) + z^2(x+y).$ for all nonnegative real numbers x, y, z; our inequality will follow from this. But this is just Schur's Inequality with r = 1! This completes the proof.Note: Schur's Inequality states that $x^r(x-y)(x-z) + y^r(y-z)(y-x) + z^r(z-x)(z-y) \\ge 0$. This can be proven by setting WLOG $x \\ge y \\ge z$ and bunching together terms that are nonnegative. Challenge: when does equality hold? When does equality hold in the problem?"]}, "1979_usamo_problems/problem_5": {"id": {"year": 1979, "contest_name": "USAMO", "problem_number": 5}, "title": "1979 USAMO Problems/Problem 5", "problem": "Let $A_1,A_2,...,A_{n+1}$ be distinct subsets of $[n]$ with $|A_1|=|A_2|=\\cdots =|A_{n+1}|=3$. Prove that $|A_i\\cap A_j|=1$ for some pair $\\{i,j\\}$.", "answer_choices": "frq", "answer": "", "solutions": ["Suppose the problem statement does not hold. It is clear that $n \\ge 4$. Choose the smallest $n$ such that $|A_i \\cap A_j| \\neq 1$ for each $\\{i, j\\}$.First, the $(n+1)$ subsets have $3(n+1)$ elements (some repeated) in conjunction. Because there are $n$ elements of $[n]$ total, by the Pigeonhole Principle one element of $[n]$, say $k$, is in at least four subsets. Let these subsets be $A_1, A_2, A_3, A_4$, without loss of generality, and let $A_1$ have elements $k, m, n$. Then without loss of generality let $A_2$ have elements $k, m, p$. If set $A_3$ has elements $k, n, p$, then simple casework shows that it is impossible to create $A_4$ without having $A_4$ intersect one of $A_1, A_2, A_3$ at exactly one element. Thus assume $A_3$ has elements $k, m, q$. Then $A_4$ has elements $k, m, r$. Consider each remaining set $A_i$. Then $A_i$ either contains both $k, m$ or none of them. Because there are $(n-2)$ distinct elements of $[n]$ apart from $k, m$, at most $(n-2)$ subsets can contain $k, m$. Then at least 3 subsets do not contain $k, m$, and it is easy to see that they are disjoint from those subsets that do contain $k, m$. Thus, we can partition $[n]$ into two subsets, one of which is the union of the $t$ subsets that do contain $k, m$, and the other is the union of the $(n+1)-t$ subsets that do not contain $k, m$. Because the latter subset has $(n-t-2) < (n+1)-t - 1$ elements, we may use infinite descent to contradict the minimality of $n$. The proof is complete."]}, "1981_usamo_problems/problem_2": {"id": {"year": 1981, "contest_name": "USAMO", "problem_number": 2}, "title": "1981 USAMO Problems/Problem 2", "problem": "What is the largest number of towns that can meet the following criteria. Each pair is directly linked by just one of air, bus or train. At least one pair is linked by air, at least one pair by bus and at least one pair by train. No town has an air link, a bus link and a train link. No three towns, $A, B, C$ are such that the links between $AB, AC$ and $BC$ are all air, all bus or all train.", "answer_choices": "frq", "answer": "", "solutions": ["Assume $AB$, $AC$, and $AD$ are all rail.None of $BC$, $CD$, or $CD$ can be rail, as those cities would form a rail triangle with $A$.If $BC$ is bus, then $BD$ is bus as well, as otherwise $B$ has all three types.However, $CD$ cannot be rail (as $\\triangle ACD$ would be a rail triangle), bus (as $BCD$ would be a bus triangle), or ferry (as $C$ and $D$ would have all three types).Therefore, no city can have three connections of the same type.Assume there are 5 towns - $A$, $B$, $C$, $D$, and $E$.Two connections from $A$ must be of one type, and two of another; otherwise there would be at least three connections of the same type from $A$, which has been shown to be impossible.Let $AB$ and $AC$ be rail connections, and $AD$ and $AE$ be bus.Assume $CD$ is air.$BC$ cannot be rail ( $\\triangle ABC$ would be a rail triangle) or bus ( $C$ would have all three types), so $BC$ must be air.$DE$ cannot be bus ( $\\triangle ADE$ would be a bus triangle) or rail ( $D$ would have all three types), so $DE$ must be air.$BE$ cannot be rail ( $E$ would have all three types) or bus ( $B$ would have all three types), so $BE$ must be air.However, $BD$ cannot be rail ( $D$ would have all three types), bus ( $B$ would have all three types), or air ( $D$ would have three air connections).Therefore, the assumption that $CD$ is air is false.$CD$ can equally be rail or bus; assume it is bus.$BC$ cannot be rail ( $\\triangle ABC$ would be a rail triangle) or air ( $C$ would have all three types), so $BC$ must be bus.$BD$ cannot be air ( $B$ would have all three types) or bus ( $D$ would have three bus connections), so $BD$ must be rail.$DE$ cannot be air ( $D$ would have all three types) or bus ( $D$ would have three bus connections), so $DE$ must be rail.$CE$ cannot be air ( $C$ would have all three types) or bus ( $E$ would have three bus connections), so $CE$ must be rail.The only connection remaining is $BE$, which cannot be orange as both $B$ and $D$ would have all three types, but this means there are no air connections.Therefore, it is impossible with five (or more) towns.A four-town mapping is possible:$AB$, $BC$, $CD$, and $DA$ are connected by bus.$AC$ is connected by rail.$BD$ is connected by air.Therefore, the maximum number of towns is $4$."]}, "1982_usamo_problems/problem_1": {"id": {"year": 1982, "contest_name": "USAMO", "problem_number": 1}, "title": "1982 USAMO Problems/Problem 1", "problem": "In a party with $1982$ people, among any group of four there is at least one person who knows each of the other three. What is the minimum number of people in the party who know everyone else?", "answer_choices": "frq", "answer": "1979", "solutions": ["We induct on $n$ to prove that in a party with $n$ people, there must be at least $(n-3)$ people who know everyone else. (Clearly this is achievable by having everyone know everyone else except three people $A, B, C$, who do not know each other.)Base case: $n = 4$ is obvious.Inductive step: Suppose in a party with $k$ people (with $k \\ge 4$ ), at least $(k-3)$ people know everyone else. Consider a party with $(k+1)$ people. Take $k$ of the people (leaving another person, $A$, out) and apply the inductive step to conclude that at least $(k-3)$ people know everyone else in the $k$ -person group, $G$.Now suppose that everyone in the group $G$ knows each other. Then take $3$ of these people and $A$ to deduce that $A$ knows a person $B \\in G$, which means $B$ knows everyone else. Then apply the inductive step on the remaining $k$ people (excluding $B$ ) to find $(k-3)$ people out of them that know everyone else (including $B$, of course). Then these $(k-3)$ people and $B$, which enumerate $(k-2)$ people, know everyone else.Suppose that there exist two people $B, C \\in G$ who do not know each other. Because $k-3 \\ge 1$, there exist at least one person in $G$, person $D$, who knows everyone else in $G$. Now, take $A, B, C, D$ and observe that because $B, C$ do not know each other, either $A$ or $D$ knows everyone else of $A, B, C, D$ (by the problem condition), so in particular $A$ and $D$ know each other. Then apply the inductive step on the remaining $k$ people (excluding $D$ ) to find $(k-3)$ people out of them that know everyone else (including $D$, of course). Then these $(k-3)$ people and $D$, which enumerate $(k-2)$ people, know everyone else.This completes the inductive step and thus the proof of this stronger result, which easily implies that at least $1982 - 3 = \\boxed{1979}$ people know everyone else."]}, "1983_usamo_problems/problem_1": {"id": {"year": 1983, "contest_name": "USAMO", "problem_number": 1}, "title": "1983 USAMO Problems/Problem 1", "problem": "On a given circle, six points $A$, $B$, $C$, $D$, $E$, and $F$ are chosen at random, independently and uniformly with respect to arc length. Determine the probability that the two triangles $ABC$ and $DEF$ are disjoint, i.e., have no common points.", "answer_choices": "frq", "answer": "", "solutions": ["First we give the circle an orientation (e.g., letting the circle be the unit circle in polar coordinates). Then, for any set of six points chosen on the circle, there are exactly $6!$ ways to label them one through six. Also, this does not affect the probability we wish to calculate. This will, however, make calculations easier.Note that, for any unordered set of six points chosen from the circle boundary, the number of ways to number them such that they satisfy this disjoint-triangle property is constant: there are six ways to choose which triangle will be numbered with the numbers one through three, and there are $(3!)^2$ ways to arrange the numbers one through three and four through six on these two triangles. Therefore, for any given configuration of points, there are $6^3=216$ ways to label them to have this disjoint-triangle property. There are, however, $6!=720$ ways to label the points in all, so given any six unordered points, the probability that when we inflict an ordering we produce the disjoint-triangle property is $216/720=3/10$.Since this probability is constant for any configuration of six unordered points we choose, we must have that $3/10$ is the probability that we produce the disjoint-triangle property if we choose the points as detailed in the problem statement."]}, "1983_usamo_problems/problem_3": {"id": {"year": 1983, "contest_name": "USAMO", "problem_number": 3}, "title": "1983 USAMO Problems/Problem 3", "problem": "Each set of a finite family of subsets of a line is a union of two closed intervals. Moreover, any three of the sets of the family have a point in common. Prove that there is a point which is common to at least half the sets of the family.", "answer_choices": "frq", "answer": "", "solutions": ["Let us first see that this works for anything less than three sets.Obviously, due to the second condition given, they all share at least one point in common.Now, let us see that it works for three or more sets.First, take any three of the subsets in the family of sets.Let them be A, B, and C.\nWe know that they share at least one point in common. Let us take the pair of segments that have the shortest length when you take the union of the pair. Let us denote this segment D. Evidently, if you take any other set of points, it must intersect D at least at one point. In order to minimize the number of intersections between the other varying segments, we must have at close to 1/2 of the remaining segments as possible intersecting each other. However, if we note, putting them that way forces at least 1/2 of the segments in each section."]}, "1984_usamo_problems/problem_4": {"id": {"year": 1984, "contest_name": "USAMO", "problem_number": 4}, "title": "1984 USAMO Problems/Problem 4", "problem": "A difficult mathematical competition consisted of a Part I and a Part II with a combined total of $28$ problems. Each contestant solved $7$ problems altogether. For each pair of problems, there were exactly two contestants who solved both of them. Prove that there was a contestant who, in Part I, solved either no problems or at least four problems.", "answer_choices": "frq", "answer": "", "solutions": ["This problem needs a solution. If you have a solution for it, please help us out by adding it."]}, "1985_imo_problems/problem_2": {"id": {"year": 1985, "contest_name": "IMO", "problem_number": 2}, "title": "1985 IMO Problems/Problem 2", "problem": "Let $n$ and $k$ be given relatively prime natural numbers, $k < n$. Each number in the set $M = \\{ 1,2, \\ldots, n-1 \\}$ is colored either blue or white. It is given that (i) for each $i \\in M$, both $i$ and $n-i$ have the same color; (ii) for each $i \\in M, i \\neq k$, both $i$ and $|i-k|$ have the same color. Prove that all the numbers in $M$ have the same color.", "answer_choices": "frq", "answer": "", "solutions": ["We may consider the elements of $M$ as residues mod $n$. To these we may add the residue 0, since (i) may only imply that 0 has the same color as itself, and (ii) may only imply that 0 has the same color as $k$, which put no restrictions on the colors of the other residues.We note that (i) is equivalent to saying that $i$ has the same color as $-i$, and given this, (ii) implies that $i$ and $(-i + k)$ have the same color. But this means that $i, -i$, and $i+k$ have the same color, which is to say that all residues of the form $i + mk \\; (m \\in \\mathbb{N}_0)$ have the same color. But these are all the residues mod $n$, since $k$ and $n$ are relatively prime. Q.E.D.Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1985_usamo_problems/problem_4": {"id": {"year": 1985, "contest_name": "USAMO", "problem_number": 4}, "title": "1985 USAMO Problems/Problem 4", "problem": "There are $n$ people at a party. Prove that there are two people such that, of the remaining $n-2$ people, there are at least $\\lfloor n/2\\rfloor -1$ of them, each of whom knows both or else knows neither of the two. Assume that \"know\" is a symmetrical relation; $\\lfloor x\\rfloor$ denotes the greatest integer less than or equal to $x$.", "answer_choices": "frq", "answer": "", "solutions": ["Consider the number of pairs (X, {Y, Z}), where X, Y, Z are distinct points such that X is joined to just one of Y, Z. If X is joined to just k points, then there are just k(n - 1 - k) \u2264 (n - 1)2/4 such pairs (X, {Y, Z}). Hence in total there are at most $\\frac{n(n - 1)^2}{4}$ such pairs. But there are $\\frac{n(n - 1)}{2}$ possible pairs {Y, Z}. So we must be able to find one of them {A, B} which belongs to at most $\\lfloor \\frac{n-1}{2} \\rfloor$ such pairs.Hence there are at least $n - 2 - \\lfloor \\frac{n - 1}{2} \\rfloor = \\lfloor \\frac{n}{2} \\rfloor - 1$ points X which are joined to both of A and B or to neither of A and B. (If confused by the floor, consider n = 2m and n = 2m+1 separately!)~John Scholes"]}, "1985_usamo_problems/problem_5": {"id": {"year": 1985, "contest_name": "USAMO", "problem_number": 5}, "title": "1985 USAMO Problems/Problem 5", "problem": "Let $a_1,a_2,a_3,\\cdots$ be a non-decreasing sequence of positive integers. For $m\\ge1$, define $b_m=\\min\\{n: a_n \\ge m\\}$, that is, $b_m$ is the minimum value of $n$ such that $a_n\\ge m$. If $a_{19}=85$, determine the maximum value of $a_1+a_2+\\cdots+a_{19}+b_1+b_2+\\cdots+b_{85}$.", "answer_choices": "frq", "answer": "1700", "solutions": ["We create an array of dots like so: the array shall go out infinitely to the right and downwards, and at the top of the $i$ th column we fill the first $a_i$ cells with one dot each. Then the $19$ th row shall have 85 dots. Now consider the first 19 columns of this array, and consider the first 85 rows. In row $j$, we see that the number of blank cells is equal to $b_j-1$. Therefore the number of filled cells in the first 19 columns of row $j$ is equal to $20-b_j$.We now count the number of cells in the first 19 columns of our array, but we do it in two different ways. First, we can sum the number of dots in each column: this is simply $a_1+\\cdots+a_{19}$. Alternatively, we can sum the number of dots in each row: this is $(20-b_1)+\\cdots +(20-b_{85})$. Since we have counted the same number in two different ways, these two sums must be equal. Therefore\n\n\\[a_1+\\cdots +a_{19}+b_1+\\cdots +b_{85}=20\\cdot 85=\\boxed{1700}.\\]\n\nNote that this shows that the value of the desired sum is constant."]}, "1986_imo_problems/problem_6": {"id": {"year": 1986, "contest_name": "IMO", "problem_number": 6}, "title": "1986 IMO Problems/Problem 6", "problem": "Given a finite set of points in the plane, each with integer coordinates, is it always possible to color the points red or white so that for any straight line $L$ parallel to one of the coordinate axes the difference (in absolute value) between the numbers of white and red points on $L$ is not greater than $1$?", "answer_choices": "frq", "answer": "", "solutions": ["I'll use a well-known result: if a connected graph has $2k>0$ vertices of odd degree, then its edge set can be partitioned into $k$ paths, and if all its vertices have even degree, then it has an eulerian circuit.We have a bipartite graph with bipartition $A,B$ here, constructed as follows: the horizontal lines which contain points from our set represent the vertices in $A$, the vertical lines represent the vertices in $B$, and the point represent the edges between the vertices corresponding to the rows and columns which contain them. What we must prove is that we can color the edge set of a bipartite graph in two colors s.t. the difference between the number of red edges and white edges adjacent to each vertex is $\\le 1$ in absolute value. It suffices to prove this for connected bipartite graphs, since then we can apply the result to each connected component of the graph.If all the vertices have even degree, then we can find an eulerian circuit. The graph is bipartite, so this circuit has an even number of edges, and we can thus color the edges in the circuit alternatively red and white so that two edges which are consecutive in the circuit have different colors. It's clear that this coloration satisfies the requirements.If, on the other hand, the graph has $2k>0$ vertices with odd degre, then we partition the edge set into $k$ paths, and in each path we color the edges alternatively red and white. Again, it's easy to verify the required properties of the coloration.This solution was posted and copyrighted by grobber. The original thread for this problem can be found here: [1]", "We induct on number of points. The small cases are easily checked. Let there exist such a function for $n$ points. We will show there is a function for $n+1$ points.If there exists a line $\\ell$, parallel to any of the coordinate axes (from the next time, any line will be parallel to either of the coordinate axes, unless otherwise mentioned ), containing odd number of points, then choose a point $P_x \\in \\ell$, and consider $S \\setminus P_x$. By inductive hypothesis there exists such a function $f\u00a0: P \\to \\left \\{ -1, 1 \\right \\}$ for $S \\setminus P_x$. Since $P \\in \\ell, P \\ne P_x$ contain even number of points, we have $\\sum_{\\substack{P \\in \\ell \\\\ P \\ne P_x}} f(P) = 0$. Let $\\ell '$ be the line $\\perp$ to $\\ell$, passing through $P_x$. Let $\\sum _{\\substack{P \\in \\ell ' \\\\ P \\ne P_x}} f(P) = t$, where $t \\in \\left \\{ -1,0, 1 \\right \\}$. Now for $S$ (with $n+1$ points) define $g$ as $g(P) = f(P)$ for $P \\in S \\setminus P_x$, and $g(P_x) = -t$, if $t \\ne 0$, or $1$ or $-1$ if $t=0$. It indeed works as such a function for $n+1$ points.If the above is not the case, i.e. if all the lines contain even number (greater than zero) of points, pick up an arbitrary point $P_y \\in S$. Let $\\ell$ and $\\ell '$ be the two lines containing $P_y$. Also $\\ell \\perp \\ell '$. Consider $S \\setminus P_y$, for this set, by the inductive hypothesis, there exists such a function $f$. In $S \\setminus P_y$, $\\ell$ and $\\ell '$ contains odd number of points and if $L$ is a line different from $\\ell$ and $\\ell '$, then it contains even number of points. So $\\sum_{\\substack{P \\in L \\\\ L \\ne \\ell, \\ell '}} f(P) = 0$. Therefore it is seen that$\\sum_{\\substack{P \\in \\ell \\\\ P \\ne P_y}} f(P)$ $= - \\sum _{\\substack{P \\in S \\\\ P \\notin \\ell, \\ell ' }} f(P)$ $= \\sum_{\\substack{P \\in \\ell ' \\\\ P \\ne P_y}} f(P) = t$.Since $\\ell \\setminus P_y$ contain odd number of points, $t$ is either $-1$ or $1$. Wlog $t = 1$. Now for $S$, (containing $n+1$ points) define $g$ as\u00a0: $g(P) = f(P)$, for $P \\in S \\setminus P_y$ and $g(P_y) = -t$.So the induction is complete, and the statement is established.This solution was posted and copyrighted by Learner94. The original thread for this problem can be found here: [2]"]}, "1986_usamo_problems/problem_2": {"id": {"year": 1986, "contest_name": "USAMO", "problem_number": 2}, "title": "1986 USAMO Problems/Problem 2", "problem": "During a certain lecture, each of five mathematicians fell asleep exactly twice. For each pair of mathematicians, there was some moment when both were asleep simultaneously. Prove that, at some moment, three of them were sleeping simultaneously.", "answer_choices": "frq", "answer": "", "solutions": ["We shall assume to the contrary that there was never a time when three mathematicians were sleeping simultaneously, and derive a contradiction.As a subtle but logically necessary note, we will assume without loss of generality that no two events (an event is one mathematician either falling asleep or waking up) happen at the same time.We have (5 choose 2) = 10 sleeping-pairs of mathematicians to account for. Also, since 5 mathematicians each fell asleep 2 times, we have a total of 10 occasions on which a mathematician fell asleep. Now, if two mathematicians are ever asleep simultaneously, then one of them fell asleep while the other was already asleep. However, because of the \"no three asleep at once\" rule, if a mathematician falls asleep, then at most one other mathematician could have been asleep already. Therefore, each occasion when a mathematician falls asleep can account for at most one sleeping-pair. It would appear that we have just enough to make it. However, when the first mathematician falls asleep, no other mathematicians are asleep...Hey, wait a minute. Couldn't one mathematician, or even two, have been already asleep when the lecture started? In fact, the wording of the problem does not forbid this, and this permits us to construct an easy counterexample:Call the mathematicians A,B,C,D,E. A starts out asleep. B sleeps; A wakes; C sleeps; B wakes; D sleeps; C wakes; E sleeps; D wakes; A sleeps; E wakes; then, C sleeps; A wakes; E sleeps; C wakes; B sleeps; E wakes; D sleeps; B wakes; A sleeps; D wakes. This creates, in order, the sleeping-pairs AB, BC, CD, DE, EA, then AC, CE, EB, BD, DA; each mathematician falls asleep and wakes up exactly twice, and at no time are three mathematicians asleep.Well, this must be considered a hole in the problem as written. However, if we add the (nontrivial) assumption that the mathematicians were all awake when the lecture began, then it follows that the first occasion when a mathematician falls asleep can only account for zero sleeping-pairs, and the remaining 9 occasions can only account for 9 of 10 sleeping-pairs, and so there must be some pair of mathematicians that are not simultaneously asleep during the lecture. So our assumption to the contrary implies an impossible sequence of events. Therefore, that assumption must be wrong, and there must be a moment when three mathematicians are asleep."]}, "1987_imo_problems/problem_1": {"id": {"year": 1987, "contest_name": "IMO", "problem_number": 1}, "title": "1987 IMO Problems/Problem 1", "problem": "Let $p_n (k)$ be the number of permutations of the set $\\{ 1, \\ldots, n \\}, \\; n \\ge 1$, which have exactly $k$ fixed points. Prove that $\\sum_{k=0}^{n} k \\cdot p_n (k) = n!$. (Remark: A permutation $f$ of a set $S$ is a one-to-one mapping of $S$ onto itself. An element $i$ in $S$ is called a fixed point of the permutation $f$ if $f(i) = i$.)", "answer_choices": "frq", "answer": "", "solutions": ["The sum in question simply counts the total number of fixed points in all permutations of the set. But for any element $i$ of the set, there are $(n-1)!$ permutations which have $i$ as a fixed point. Therefore"]}, "1987_usamo_problems/problem_5": {"id": {"year": 1987, "contest_name": "USAMO", "problem_number": 5}, "title": "1987 USAMO Problems/Problem 5", "problem": "$a_1, a_2, \\cdots, a_n$ is a sequence of 0's and 1's. T is the number of triples $(a_i, a_j, a_k)$ with $i<j<k$ which are not equal to (0, 1, 0) or (1, 0, 1). For $1\\le i\\le n$, $f(i)$ is the number of $j<i$ with $a_j = a_i$ plus the number of $j>i$ with $a_j\\neq a_i$. Show that $T=\\sum_{i=1}^n f(i)\\cdot\\left(\\frac{f(i)-1}2\\right)$. If n is odd, what is the smallest value of T?", "answer_choices": "frq", "answer": "", "solutions": ["This problem needs a solution. If you have a solution for it, please help us out by adding it."]}, "1988_imo_problems/problem_2": {"id": {"year": 1988, "contest_name": "IMO", "problem_number": 2}, "title": "1988 IMO Problems/Problem 2", "problem": "Let $n$ be a positive integer and let $A_1, A_2, \\cdots, A_{2n+1}$ be subsets of a set $B$. Suppose that (a) Each $A_i$ has exactly $2n$ elements, (b) Each $A_i\\cap A_j$ $(1\\le i<j\\le 2n+1)$ contains exactly one element, and (c) Every element of $B$ belongs to at least two of the $A_i$. For which values of $n$ can one assign to every element of $B$ one of the numbers $0$ and $1$ in such a way that $A_i$ has $0$ assigned to exactly $n$ of its elements?", "answer_choices": "frq", "answer": "", "solutions": ["Answer: All $n$ such that $4|n$We first make the following $2$ claims:Claim $1$ : Each element of union belongs to exactly $2$ subsets.Proof:Consider a subset $A_i$. Assume that some element $x \\in\\ A_i$ also $\\in A_k, A_l$. There are $n-1$ elements remaining in $A_i$ and there are $n-2$ subsets to choose from. By pigeon hole principle, at least $1$ of the remaining elements in $A_i$ must $\\in A_k$ or $\\in A_l$. This contradicts the assumption that any $2$ subsets have only $1$ element in common.Claim $2$ : $4|n$Proof:Now, since each element in $A_i \\in$ exactly $1$ other subset, total number of elements present in the union = $n*(n+1)/2$.\nIf each subset must have $n/2$ elements assigned a value of $1$, the total number of elements assigned value of $1$ = $n/2*(n+1)/2 = n*(n+1)/4$.\nThus $4$ must divide $n$.Now we make our final claim:Claim $3$ : $4|n$ is a sufficient condition to assign every element of the union one of the numbers 0 and 1 in such a manner that each of the sets has exactly $\\frac {n}{2}$ zeros.Proof:Consider a regular polygon consisting of $n+1$ vertices where each line joining two vertices $A_i, A_j$ represents the element which $\\in A_i, A_j$. Clearly there are a total of $n*(n+1)/2$ such lines representing the total number of elements of the union where each vertex is connected to $n$ vertices, meaning each of the $n$ elements of $A_i$ is part of $1$ other subset.Starting with $i = 1$, let us start coloring all lines joining vertices $A_i$, $A_{i+1}$ with color Red, all lines joining $A_i$, $A_{i+2}$ with color White, $A_i$, $A_{i+3}$ with color Red, $A_i$, $A_{i+4}$ with color White and so on... $A_i$, $A_{i+n/2}$ with color White.Clearly each line from vertex $A_i$ alternates Red, White for first $n/2$ lines and then alternates White, Red for remaining $n/2$ lines implying that we could have exactly $n/2$ red lines emanating from each vertex $A_i$. But these $n/2$ lines represent $n/2$ elements of each subset $A_i$ which could each be assigned a value of $0$. This completes the proof.- Kris17Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1988_usamo_problems/problem_3": {"id": {"year": 1988, "contest_name": "USAMO", "problem_number": 3}, "title": "1988 USAMO Problems/Problem 3", "problem": "Let $X$ be the set $\\{ 1, 2, \\cdots, 20\\}$ and let $P$ be the set of all 9-element subsets of $X$. Show that for any map $f: P\\mapsto X$ we can find a 10-element subset $Y$ of $X$, such that $f(Y-\\{k\\})\\neq k$ for any $k$ in $Y$.", "answer_choices": "frq", "answer": "", "solutions": ["This problem needs a solution. If you have a solution for it, please help us out by adding it."]}, "1989_usamo_problems/problem_2": {"id": {"year": 1989, "contest_name": "USAMO", "problem_number": 2}, "title": "1989 USAMO Problems/Problem 2", "problem": "The 20 members of a local tennis club have scheduled exactly 14 two-person games among themselves, with each member playing in at least one game. Prove that within this schedule there must be a set of 6 games with 12 distinct players.", "answer_choices": "frq", "answer": "", "solutions": ["Consider a graph with $20$ vertices and $14$ edges. The sum of the degrees of the vertices is $28$ ; by the Pigeonhole Principle at least $12$ vertices have degrees of $1$ and at most $8$ vertices have degrees greater than $1$. If we keep deleting edges of vertices with degree greater than $1$ (a maximum of $8$ such edges), then we are left with at least $6$ edges, and all of the vertices have degree either $0$ or $1$. These $6$ edges represent the $6$ games with $12$ distinct players.Let a slot be a place we can put a member in a game, so there are two slots per game, and 28 slots total. We begin by filling exactly 20 slots each with a distinct member since each member must play at least one game. Let there be $m$ games with both slots filled and $n$ games with only one slot filled, so $2m+n=20$. Since there are only 14 games, $m+n \\leq 14 \\Longrightarrow 2m+n \\leq 14+m \\Longleftrightarrow 20 \\leq 14+m \\Longrightarrow m \\geq 6$, so there must be at least 6 games with two distinct members each, and we must have our desired set of 6 games.Assume the contrary.Consider the largest set of disjoint edges $E$. By assumption it has less than $6$ edges, i.e. maximum $10$ vertices.\nCall it a vertex set $V$.$10$ vertices remain outside $V$ and each has to be attached to at least one edge.\nNow, if any two vertices outside $V$ are connected by, say, edge $e$, we could have included $e$ in $E$ and gotten a larger disjoint set, so - a contradiction.\nTherefore the only option would be that all vertices outside $V$ are connected each by one edge to some vertices inside $V$. That would take $10$ edges, but $E$ already includes $5$ - again a contradiction.All possibilities yield a contradiction, so our assumption can not be correct.(Cases when largest set $E$ is smaller than $6$ are equivalent and weaker)"]}, "1990_usamo_problems/problem_1": {"id": {"year": 1990, "contest_name": "USAMO", "problem_number": 1}, "title": "1990 USAMO Problems/Problem 1", "problem": "A certain state issues license plates consisting of six digits (from 0 through 9). The state requires that any two plates differ in at least two places. (Thus the plates $\\boxed{027592}$ and $\\boxed{020592}$ cannot both be used.) Determine, with proof, the maximum number of distinct license plates that the state can use.", "answer_choices": "frq", "answer": "", "solutions": ["Consider license plates of $n$ digits, for some fixed $n$, issued with the same criteria.We first note that by the pigeonhole principle, we may have at most $10^{n-1}$ distinct plates. Indeed, if we have more, then there must be two plates which agree on the first $n-1$ digits; these plates thus differ only on one digit, the last one.We now show that it is possible to issue $10^{n-1}$ distinct license plates which satisfy the problem's criteria. Indeed, we issue plates with all $10^{n-1}$ possible combinations for the first $n-1$ digit, and for each plate, we let the last digit be the sum of the preceding digits taken mod 10. This way, if two plates agree on the first $n-1$ digits, they agree on the last digit and are thus the same plate, and if two plates differ in only one of the first $n-1$ digits, they must differ as well in the last digit.It then follows that $10^{n-1}$ is the greatest number of license plates the state can issue. For $n=6$, as in the problem, this number is $10^5$. $\\blacksquare$", "$\\text{Constructive Induction for } n=6$"]}, "1990_usamo_problems/problem_4": {"id": {"year": 1990, "contest_name": "USAMO", "problem_number": 4}, "title": "1990 USAMO Problems/Problem 4", "problem": "Find, with proof, the number of positive integers whose base- $n$ representation consists of distinct digits with the property that, except for the leftmost digit, every digit differs by $\\pm 1$ from some digit further to the left. (Your answer should be an explicit function of $n$ in simplest form.)", "answer_choices": "frq", "answer": "", "solutions": ["Let a $k$ -good sequence be a sequence of distinct integers $\\{ a_i \\}_{i=1}^k$ such that for all integers $2\\le i \\le k$, $a_i$ differs from some preceding term by $\\pm 1$.Lemma. Let $a$ be an integer. Then there are $2^{k-1}$ $k$ -good sequences starting on $a$, and furthermore, the terms of each of these sequences constitute a permutation of $k$ consecutive integers.Proof. We induct on $k$. For $k=1$, the lemma is trivially true. Now, suppose the lemma holds for $k$. If $\\{ a_i \\}_{i=1}^{k+1}$ is a $(k+1)$ -good sequence, then $\\{ a_i \\}_{i=1}^k$ is a $k$ -good sequence which starts on $a$, so it is a permutation of $k$ consecutive integers, say $m, \\dotsc, M$. Then the only possibilities for $a_{k+1}$ are $m-1$ and $M+1$ ; either way, $\\{ a_i \\}_{i=1}^{k+1}$ constitutes a permutation of $k+1$ consecutive integers. Since there are $2^k$ possible sequences $\\{a_i\\}_{i=1}^k$, and 2 choices of $a_{k+1}$ for each of these sequences, it also follows that there are $2^k \\cdot 2 = 2^{k+1}$ $(k+1)$ -good sequences which start on $a$. Thus the lemma holds by induction. $\\blacksquare$We now consider the number of desired positive integers with $k$ digits. Evidently, $k$ must be less than or equal to $n$. We also note that the digits of such an integer must constitute a $k$ -good sequence. Since the minimum of this sequence can be any of the digits $0, \\dotsc, n-k$, unless the minimum is 0 and is the first digit (in which case the only possible sequence is an increasing arithmetic sequence), and there are $2^{k-1}$ $k$ -good sequences up to translation, it follows that there are $(n-k+1) 2^{k-1}-1$ desired positive integers with $k$ digits. Thus the total number of desired positive integers is\n\n\\begin{align*} \\sum_{k=1}^n \\bigl[ (n-k+1) 2^{k-1}-1 \\bigr] &= -n + \\sum_{k=1}^n \\sum_{j=k}^n 2^{k-1} = -n + \\sum_{j=1}^n \\sum_{k=1}^j 2^{k-1} \\\\ &= -n + \\sum_{j=1}^n (2^k-1) = - 2n -1 + \\sum_{j=0}^n 2^k, \\end{align*}\n\nwhich is equal to $2^{n+1} - 2(n+1)$, our answer. $\\blacksquare$Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1992_usamo_problems/problem_3": {"id": {"year": 1992, "contest_name": "USAMO", "problem_number": 3}, "title": "1992 USAMO Problems/Problem 3", "problem": "For a nonempty set $S$ of integers, let $\\sigma(S)$ be the sum of the elements of $S$. Suppose that $A = \\{a_1, a_2, \\ldots, a_{11}\\}$ is a set of positive integers with $a_1 < a_2 < \\cdots < a_{11}$ and that, for each positive integer $n \\le 1500$, there is a subset $S$ of $A$ for which $\\sigma(S) = n$. What is the smallest possible value of $a_{10}$?", "answer_choices": "frq", "answer": "", "solutions": ["Let's a $n$ - $p$ set be a set $Z$ such that $Z=\\{a_1,a_2,\\cdots,a_n\\}$, where $\\forall i<n$, $i\\in \\mathbb{Z}^+$, $a_i<a_{i+1}$, and for each $x\\le p$, $x\\in \\mathbb{Z}^+$, $\\exists Y\\subseteq Z$, $\\sigma(Y)=x$, $\\nexists \\sigma(Y)=p+1$.(For Example $\\{1,2\\}$ is a $2$ - $3$ set and $\\{1,2,4,10\\}$ is a $4$ - $8$ set)Furthermore, let call a $n$ - $p$ set a $n$ - $p$ good set if $a_n\\le p$, and a $n$ - $p$ bad set if $a_n\\ge p+1$ (note that $\\nexists \\sigma(Y)=p+1$ for any $n$ - $p$ set. Thus, we can ignore the case where $a_n=p+1$ ).Furthermore, if you add any amount of elements to the end of a $n$ - $p$ bad set to form another $n$ - $p$ set (with a different $n$ ), it will stay as a $n$ - $p$ bad set because $a_{n+x}>a_{n}>p+1$ for any positive integer $x$ and $\\nexists \\sigma(Y)=p+1$.Lemma ) If $Z$ is a $n$ - $p$ set, $p\\leq 2^n-1$.For $n=1$, $p=0$ or $1$ because $a_1=1 \\rightarrow p=1$ and $a_1\\ne1\\rightarrow p=0$.Assume that the lemma is true for some $n$, then $2^n$ is not expressible with the $n$ - $p$ set. Thus, when we add an element to the end to from a $n+1$ - $r$ set, $a_{n+1}$ must be $\\le p+1$ if we want $r>p$ because we need a way to express $p+1$. Since $p+1$ is not expressible by the first $n$ elements, $p+1+a_{n+1}$ is not expressible by these $n+1$ elements. Thus, the new set is a $n+1$ - $r$ set, where $r\\leq p+1+a_{n+1} \\leq 2^{n+1}-1$Lemma ProvenThe answer to this question is $\\max{(a_{10})}=248$.The following set is a $11$ - $1500$ set:$\\{1,2,4,8,16,32,64,128,247,248,750\\}$Note that the first 8 numbers are power of $2$ from $0$ to $7$, and realize that any $8$ or less digit binary number is basically sum of a combination of the first $8$ elements in the set. Thus, $\\exists Y\\subseteq\\{1,2,4,8,16,32,64,128\\}$, $\\sigma(Y)=x \\forall 1\\le x\\leq 255$.$248\\le\\sigma(y)+a_9\\le502$ which implies that $\\exists A\\subseteq\\{1,2,4,8,16,32,64,128,247\\}$, $\\sigma(A)=x \\forall 1\\le x\\leq 502$.Similarly $\\exists B\\subseteq\\{1,2,4,8,16,32,64,128,247,248\\}$, $\\sigma(A)=x \\forall 1\\le x\\le750$ and $\\exists C\\subseteq\\{1,2,4,8,16,32,64,128,247,248,750\\}$, $\\sigma(A)=x \\forall 1\\leq x\\leq 1500$.Thus, $\\{1,2,4,8,16,32,64,128,247,248,750\\}$ is a $11$ - $1500$ set.Now, let's assume for contradiction that $\\exists a_{10}\\leq 247$ such that ${a_1, a_2, \\dots, a_{11}}$ is a $11$ - $q$ set where $q\\geq 1500$${a_1, a_2, \\dots a_8}$ is a $8$ - $a$ set where $a\\leq 255$ (lemma).$max{(a_9)}=a_{10}-1\\leq 246$Let ${a_1, a_2, \\dots, a_{10}}$ be a $10$ - $b$ set where the first $8$ elements are the same as the previous set. Then, $256+a_9+a_{10}$ is not expressible as $\\sigma(Y)$. Thus, $b\\leq 255+a_9+a_{10}\\leq 748$.In order to create a $11$ - $d$ set with $d>748$ and the first $10$ elements being the ones on the previous set, $a_{11}\\leq 749$ because we need to make $749$ expressible as $\\sigma(Y)$. Note that $b+1+a_{11}$ is not expressible, thus $d<b+1+a_{11}\\leq 1498$.Done but not elegant..."]}, "1994_usamo_problems/problem_2": {"id": {"year": 1994, "contest_name": "USAMO", "problem_number": 2}, "title": "1994 USAMO Problems/Problem 2", "problem": "The sides of a $99$ -gon are initially colored so that consecutive sides are red, blue, red, blue,..., red, blue, yellow. We make a sequence of modifications in the coloring, changing the color of one side at a time to one of the three given colors (red, blue, yellow), under the constraint that no two adjacent sides may be the same color. By making a sequence of such modifications, is it possible to arrive at the coloring in which consecutive sides\nare red, blue, red, blue, red, blue,..., red, yellow, blue?", "answer_choices": "frq", "answer": "", "solutions": ["We proceed by representing the colors as numbers, i.e. Red = 0, Blue = 1, Yellow = 2. Thus, we start with some sequence 0101...012 and are trying to end up with the sequence 1010...0102. Generate a second sequence of terms by subtracting each term by the following term and taking it modulus 3, i.e. (1-0, 0-1, 1-0, 0-1,... 0-1, 1-0, 0-2, 2-1) = 1212...2111 is the sequence generated using the start sequence. The sequence generated using the end sequence is (0-1, 1-0, 0-1, 1-0,... 1-0, 0-1, 1-2, 2-0) = 2121...2122. Observe that the sum of terms generated by the start sequence is different from the sum of terms generated by the end sequence.We must now prove that changing the color of a side does not change the sum of the generated sequence. We do this by noting that we can only change the color of a side if its adjacent sides have the same color as each other. Thus, changing a side does not change the sum of terms in the generated sequence, as the term generated by the changing side and the side to its left is simply the \"negative\" of the term generated by the changing side and the side to its right (i.e. 212 to 202 changes 12 to 21).Since it is impossible to change the sum of terms in the generated sequence, and the sequences generated by the start and end sequences have two different sums, it is impossible to perform a series of such modifications that change the start sequence to the end sequence."]}, "1994_usamo_problems/problem_5": {"id": {"year": 1994, "contest_name": "USAMO", "problem_number": 5}, "title": "1994 USAMO Problems/Problem 5", "problem": "Let $\\, |U|, \\, \\sigma(U) \\,$ and $\\, \\pi(U) \\,$ denote the number of elements, the sum, and the product, respectively, of a finite set $\\, U \\,$ of positive integers. (If $\\, U \\,$ is the empty set, $\\, |U| = 0, \\, \\sigma(U) = 0, \\, \\pi(U) = 1$.) Let $\\, S \\,$ be a finite set of positive integers. As usual, let $\\, \\binom{n}{k} \\,$ denote $\\, n! \\over k! \\, (n-k)!$. Prove that\n\n\\[\\sum_{U \\subseteq S} (-1)^{|U|} \\binom{m - \\sigma(U)}{|S|} = \\pi(S)\\]\n\nfor all integers $\\, m \\geq \\sigma(S)$.", "answer_choices": "frq", "answer": "", "solutions": ["Let, for $|S|\\geq k \\geq 1$, $A_k$ be a collection of sets such that $\\left|\\bigcap_{k \\in U}A_k\\right| = \\binom{m- \\sigma(U)}{|S|}$. We'll try to find such a collection to prove $\\left|\\bigcup_{k \\in U}A_k\\right| = \\binom{m}{|S|}-\\pi(S)$, since we can use PIE to show that $\\left|\\bigcup_{k \\in U}A_k\\right| = \\sum_{\\emptyset \\neq U \\subseteq S} (-1)^{|U|+1}\\left|\\bigcap_{k \\in U}A_k\\right|$.Let $Z$ be the set of binary sequences with size $m$, which we'll divide into blocks, in particular, with $S=\\{x_1, x_2,..., x_n\\}$, the first block has size $x_1$, the next has size $x_2$ and so on, until we reach $\\sigma(S)$, the last few we shall consider as an extra block with size $m-\\sigma(S)=R$.Now we perceive that the $\\sigma(U)$ function has the property, that, for $U \\subseteq S$, $\\sigma(S)-\\sigma(U)= \\sigma(S\\setminus U)$, so, $m- \\sigma(U)= \\sigma(S\\setminus U)+R$.Let $A_k$ be the number of binary sequences with exactly $|S|$ times $1$, but no appearances of $1$ in the $k$ -th block. It is easy to see that $\\bigcap_{k \\in U}A_k$ is all of the binary sequences with exactly $|S|$ times $1$, but no appearances of $1$ in any of the $k$ -th blocks, for $k \\in U$. So, we can simply eliminate those blocks, with is equivalent to eliminating $U$ from $S$, so we are left with $\\sigma(S\\setminus U)+R$ places to put the $1$ 's $|S|$ times. This is $\\binom{\\sigma(S\\setminus U)+R}{|S|}$, and we saw that is is equal to $\\binom{m- \\sigma(U)}{|S|}$. So, we've found a collection that fits the description.The number of ways to pick $1$ 's $|S|$ times from $m$ places is $\\binom{m}{|S|}$. But we don't want for the $1$ 's to fill every block, since this is not in the union. We have $\\pi(S)$ ways to put the $1$ 's $|S|$ times, where each $1$ is in exacty one block ( $x_1$ places $\\times$ $x_2$ places and so on). So, we find that $| \\bigcup_{k \\in U}A_k | = \\binom{m}{|S|}-\\pi(S)$. Which implies, by the Principle of Inclusion Exclusion,\n$\\binom{m}{|S|}-\\pi(S) = \\sum_{\\emptyset \\neq U \\subseteq S} (-1)^{|U|+1}\\binom{m- \\sigma(U)}{|S|} \\iff \\pi(S) = \\sum_{U \\subseteq S} (-1)^{|U|}\\binom{m- \\sigma(U)}{|S|}$"]}, "1995_usamo_problems/problem_5": {"id": {"year": 1995, "contest_name": "USAMO", "problem_number": 5}, "title": "1995 USAMO Problems/Problem 5", "problem": "Suppose that in a certain society, each pair of persons can be classified as either amicable or hostile. We shall say that each member of an amicable pair is a friend of the other, and each member of a hostile pair is a foe of the other. Suppose that the society has $\\, n \\,$ persons and $\\, q \\,$ amicable pairs, and that for every set of three persons, at least one pair is hostile. Prove that there is at least one member of the society whose foes include $\\, q(1 - 4q/n^2) \\,$ or fewer amicable pairs.", "answer_choices": "frq", "answer": "", "solutions": ["Consider the graph with two people joined if they are friends.For each person $X$, let $A(X)$ be the set of its friends and $B(X)$ the set of its foes. Note that any edge goes either: from $X$ to $A(X)$ (type 1), from $A(X)$ to $B(X)$ (type 2) or from a point of $B(X)$ to another (type 3), but there's no edge joining two points of $A(X)$ (since they would form a triangle with $X$ ). Let the number of type 1, type 2, type 3 edges of $X$ be $x_1, x_2, x_3$ respectively, so that $x_1$ is the degree of $X$ and we want to show that for some $X$, we have $x_3 \\leq q(1-4q/n^2)$.Since each edge is of one of those types, we have $x_1+x_2+x_3=q$. Thus\n\n\\[x_3 \\leq q(1-4q/n^2) \\Longleftrightarrow \\\\ x_3 \\leq q-4q^2/n^2 \\Longleftrightarrow \\\\ q-x_1-x_2 \\leq q-4q^2/n^2 \\Longleftrightarrow \\\\ x_1+x_2 \\geq 4q^2/n^2.\\]\n\nThat is, what we want is equivalent to proving that for some vertex $X$, the set of edges touching either $X$ or a vertex joined to $X$ is at least $4q^2/n^2$. Obviously now we'll sum $x_1+x_2$ over all vertices $X$. In the resulting sum, an edge joining $X, Y$ is counted once for each edge that $X, Y$ have, that is, it is counted $D(X)+D(Y)$ times, where $D(X)=x_1$ is the degree of $X$. Thus each vertex $X$ contributes to the overall sum with $D(X)$ for each edge it has, and since it has $D(X)$ edges, it contributes with $D(X)^2$. Thus the considered sum is equal to\n\n\\[\\sum_{X \\in G} D(X)^2 \\geq \\frac{(\\sum_{X \\in G} D(X))^2}{n}=\\frac{(2q)^2}{n}=4q^2/n.\\]\n\n(That's Cauchy.) Since we are summing over $n$ vertices, one of the summands is at least $4q^2/n^2$ by pigeonhole, which is what we wanted to prove.Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "1996_usamo_problems/problem_2": {"id": {"year": 1996, "contest_name": "USAMO", "problem_number": 2}, "title": "1996 USAMO Problems/Problem 2", "problem": "For any nonempty set $S$ of real numbers, let $\\sigma(S)$ denote the sum of the elements of $S$. Given a set $A$ of $n$ positive integers, consider the collection of all distinct sums $\\sigma(S)$ as $S$ ranges over the nonempty subsets of $A$. Prove that this collection of sums can be partitioned into $n$ classes so that in each class, the ratio of the largest sum to the smallest sum does not exceed 2.", "answer_choices": "frq", "answer": "", "solutions": ["Let set $A$ consist of the integers $a_1\\le a_2\\le a_3\\le\\dots\\le a_n$. For $k\\ge 2$, call $a_k$ greedy if $\\sum_{i=1}^{k-1}a_i < a_k$. Also call $a_1$ greedy. Now put all elements of $A$ into groups of consecutive terms in such a way that each group $G$ begins with a greedy term, call it $a_p$, and ends on the term $a_{q-1}$ just before the next greedy term after $a_p$. (If $a_p$ is the last greedy term, let $q-1=n$.) We introduce some more terminology. A sum $\\sigma(S)$ is said to \"belong to\" a group $G$ if $\\max(S)\\in G$. Denote by $\\mathcal{S}(G)$ the set of all sums belonging to $G$.We now show that we can divide $\\mathcal{S}(G)$ into $|G|$ (the cardinality of $G$ ) classes in such a way that the maximum and minimum sum belonging to each class differ by no more than a factor of 2. Using the previous notation, we first prove that $\\frac{\\max{\\mathcal{S}(G)}}{\\min{\\mathcal{S}(G)}}< 2^{|G|}=2^{q-p}$. Note that\n\n\\[\\max{\\mathcal{S}(G)}=\\sum_{i=1}^{q-1}a_i\\]\n\nand\n\n\\[\\min{\\mathcal{S}(G)}=a_p.\\]\n\nTaking note of that fact that $a_{p+1},a_{p+2},\\dots,a_{q-1}$ are not greedy numbers, we write:\\begin{align*} \\max{\\mathcal{S}}&=\\sum_{i=1}^{q-1}a_i \\\\ &=a_{q-1}+\\sum_{i=1}^{q-2}a_i \\\\ &\\le 2\\sum_{i=1}^{q-2}a_i\\\\ &\\le 2^2\\sum_{i=1}^{q-3}a_i\\\\ &\\vdots\\\\ &\\le 2^{q-p-1}\\sum_{i=1}^{p}a_i\\\\ &= 2^{q-p-1}(\\sum_{i=1}^{p-1}a_i + a_p)\\\\ &<2^{q-p-1}(2a_p)\\\\ &=2^{q-p}\\min\\mathcal{S} \\end{align*}where the inequalities after the ellipses result from the fact that $a_p$ is a greedy number (which implies by definition that $\\sum_{i=1}^{p-1}a_i<a_p$ ). This proves the desired inequality. Now we can prove the result in bold above. Divide $\\mathcal{S}(G)$ into $|G|=q-p$ classes by taking those terms in $[a_p,2a_p)$ and placing them in the first class, taking those terms in $[2a_p,2^2a_p)$ and placing them in another, and so on, until we reach $[2^{q-p-1}a_p,2^{q-p}a_p)$. The inequality we proved above shows that all of the sums in $\\mathcal{S}(G)$ will fall in one of these classes, as the intervals into which the classes fall form a continuous range bounded by $\\min\\mathcal{S}(G)=a_p$ on the bottom and $2^{q-p}a_p>\\max\\mathcal{S}(G)$ on the top. This proves the result in bold.However, that clearly implies the desired conclusion, as every sum belongs to a group, and every sum belonging to a group is a member of a class. Moreover, there will be precisely $n$ classes, because every term $a_i$ belongs to a group and for each group $G$, there are as many classes for $\\mathcal{S}(G)$ as there are terms in $G$.", "We proceed to solve this problem by induction. Our base case is when $A$ has 1 integer - there is 1 class: itself.Let $A$ now have $n$ elements, and assume it works for this case. We add $k$, another element, to the set. WLOG, let $k$ be the maximum element. Note that $\\sigma(A)$ has to be the maximum element of a class.We always get a new class that works: $\\sigma(A+\\{k\\})$ being the maximum element. This way all elements including $k$ will be in that class if $k>\\sigma(A)$. When $k<\\sigma(A)$ it also works since $k$ must be the maximum element from our WLOG condition above, so our induction step is done."]}, "1996_usamo_problems/problem_4": {"id": {"year": 1996, "contest_name": "USAMO", "problem_number": 4}, "title": "1996 USAMO Problems/Problem 4", "problem": "An $n$ -term sequence $(x_1, x_2, \\ldots, x_n)$ in which each term is either 0 or 1 is called a binary sequence of length $n$. Let $a_n$ be the number of binary sequences of length n containing no three consecutive terms equal to 0, 1, 0 in that order. Let $b_n$ be the number of binary sequences of length $n$ that contain no four consecutive terms equal to 0, 0, 1, 1 or 1, 1, 0, 0 in that order. Prove that $b_{n+1} = 2a_n$ for all positive integers $n$. (proposed by Kiran Kedlaya)", "answer_choices": "frq", "answer": "", "solutions": ["Given any binary sequence $B=(b_1,b_2,b_3,\\dots,b_k)$, define $f(B)=(|b_2-b_1|,|b_3-b_2|,\\dots,|b_k-b_{k-1}|)$. The operator $f$ basically takes pairs of consecutive terms and returns 0 if the terms are the same and 1 otherwise. Note that for every sequence $S$ of length $n$ there exist exactly two binary sequences $B$ of length $n+1$ such that $f(B)=S$.If $f(B)$ does not contain the string 0, 1, 0, $B$ cannot contain either of the strings 0, 0, 1, 1 or 1, 1, 0, 0. Conversely, if $B$ does not contain the sequences 0, 0, 1, 1 or 1, 1, 0, 0, $f(B)$ cannot contain 0, 1, 0. There are $a_n$ such $f(B)$ and $b_{n+1}$ such $B$. Since each $S$ corresponds with two $B$, there are twice as many such $B$ as such $S$ ; thus, $b_{n+1}=2a_n$."]}, "1998_usamo_problems/problem_4": {"id": {"year": 1998, "contest_name": "USAMO", "problem_number": 4}, "title": "1998 USAMO Problems/Problem 4", "problem": "A computer screen shows a $98 \\times 98$ chessboard, colored in the usual way. One can select with a mouse any rectangle with sides on the lines of the chessboard and click the mouse button: as a result, the colors in the selected rectangle switch (black becomes white, white becomes black). Find, with proof, the minimum number of mouse clicks needed to make the chessboard all one color.", "answer_choices": "frq", "answer": "", "solutions": ["Answer: $98$.There are $4\\cdot97$ adjacent pairs of squares in the border and each pair has one black and one white square. Each move can fix at most $4$ pairs, so we need at least $97$ moves. However, we start with two corners one color and two another, so at least one rectangle must include a corner square. But such a rectangle can only fix two pairs, so at least $98$ moves are needed.It is easy to see that 98 moves suffice: take 49 $1\\times98$ rectangles (alternate rows), and 49 $98\\times1$ rectangles (alternate columns).credit: https://mks.mff.cuni.cz/kalva/usa/usoln/usol984.htmleditor: Brian Josephsecond editor: integralarefun"]}, "1999_usamo_problems/problem_5": {"id": {"year": 1999, "contest_name": "USAMO", "problem_number": 5}, "title": "1999 USAMO Problems/Problem 5", "problem": "The Y2K Game is played on a $1 \\times 2000$ grid as follows. Two players in turn write either an S or an O in an empty square. The first player who produces three consecutive boxes that spell SOS wins. If all boxes are filled without producing SOS then the game is a draw. Prove that the second player has a winning strategy.", "answer_choices": "frq", "answer": "", "solutions": ["Label the squares $1$ through $2000$. The first player writes a letter in any square $k$. The second player now selects any empty square $l$ such that $\\text{min}\\,(|l-1|,|l-2000|,|l-k|) > 3$, and fills in a S. The first player may again play anywhere, say $m$. If the second player can now complete SOS, he does so; otherwise, if $l > m$ he fills an S in $l + 3$ and if $l < m$ he fills an S in $l-3$.We thus have two Ss separated by two empty squares. Note that if any player plays any letter between the two Ss, the other player can always complete a SOS.Now the second player repeats the following algorithm:Eventually, assuming the second player has not won yet (and since the first player does not have a winning opportunity yet), this algorithm must stop. It follows that all of the empty squares are now in pairs. Since there are an even number of empty squares, it is the first player's turn. If the first player plays on one of any pair of empty squares that does not have Ss on both its sides, then the second player plays any letter in the other square of the pair. Then, we will only have pairs of empty squares with Ss on both sides remaining (since from the first moves we have constructed at least one, and no one has played between them otherwise the game will have ended), and the first player will have to play between them, so that the second player will win."]}, "2001_imo_problems/problem_3": {"id": {"year": 2001, "contest_name": "IMO", "problem_number": 3}, "title": "2001 IMO Problems/Problem 3", "problem": "Twenty-one girls and twenty-one boys took part in a mathematical competition. It turned out that each contestant solved at most six problems, and for each pair of a girl and a boy, there was at least one problem that was solved by both the girl and the boy. Show that there is a problem that was solved by at least three girls and at least three boys. https://www.youtube.com/watch?v=zfsyYMbUwno", "answer_choices": "frq", "answer": "", "solutions": ["For each girl, we know that there is a boy who solved a problem in common with her. Since a girl solves at most six problems, for a girl and her set of six problems there are at least 11 boys who solved a problem in common with the girl such that at least three boys solved that common problem. (This is a simple application of the pigeon hole principle where the problems solved by the girl are the holes and the boys are the pigeons, and the guy/pigeon enters a hole/problem which he solved in common with the girl).The boys have solved a total of at most $21\\times 6$ problems.We view this as a set with repeated elements i.e. if a problem is solved by more than one boy it appears as many times as the number of boys who have solved it. Let this set of problems be A. Clearly, A has size $21\\times 6$.We mark each problem in A which has been solved by at least three boys and a girl. And we mark it the number of times that is the same as the number of girls that has solved it. Since there are a total of $21\\times 11$ marks (since there are at least 11 marks for each girl, by the discussion above), either a problem is marked at least thrice, in which case we're done since then it has been solved by at least three boys and three girls. Or each problem has been marked at most twice. In this case it is clear that more than $21\\times 5$ problems in A have been marked since $21\\times 5 \\times 2<21\\times 11$ (there are a total of $21\\times 11$ marks. This means that there is a boy such that all six of his problems have been marked. But then by our discussion in the first paragraph we know there must a problem that this boy has solved which has been solved by at least three girls. Therefore it must be true that there is a problem such that it has been solved by at least three people of each gender."]}, "2001_usamo_problems/problem_1": {"id": {"year": 2001, "contest_name": "USAMO", "problem_number": 1}, "title": "2001 USAMO Problems/Problem 1", "problem": "Each of eight boxes contains six balls. Each ball has been colored with one of $n$ colors, such that no two balls in the same box are the same color, and no two colors occur together in more than one box. Determine, with justification, the smallest integer $n$ for which this is possible.", "answer_choices": "frq", "answer": "", "solutions": ["We claim that $n=23$ is the minimum. Consider the following construction (replacing colors with numbers) which fulfills this:\n\n\\[\\left[ \\begin{array}{cccccccc} 1 & 1 & 1 & 2 & 3 & 4 & 5 & 6 \\\\ 2 & 7 & 12 & 7 & 8 & 9 & 10 & 11 \\\\ 3 & 8 & 13 & 12 & 13 & 14 & 15 & 16 \\\\ 4 & 9 & 14 & 17 & 17 & 17 & 18 & 19 \\\\ 5 & 10 & 15 & 18 & 20 & 22 & 20 & 21 \\\\ 6 & 11 & 16 & 19 & 21 & 23 & 22 & 23 \\end{array} \\right]\\]\n\nSuppose a configuration exists with $n \\le 22$.Suppose a ball appears $5$ or more times. Then the remaining balls of the $5$ boxes must be distinct, so that there are at least $n \\ge 5 \\cdot 5 + 1 = 26$ balls, contradiction. If a ball appears $4$ or more times, the remaining balls of the $4$ boxes must be distinct, leading to $5 \\cdot 4 + 1 = 21$ balls. The fifth box can contain at most four balls from the previous boxes, and then the remaining two balls must be distinct, leading to $n \\ge 2 + 21 = 23$, contradiction.However, by the Pigeonhole Principle, at least one ball must appear $3$ times. Without loss of generality suppose that $1$ appears three times, and let the boxes that contain these have balls with colors $\\{1,2,3,4,5,6\\},\\{1,7,8,9,10,11\\},\\{1,12,13,14,15,16\\}$. Each of the remaining five boxes can have at most $3$ balls from each of these boxes. Thus, each of the remaining five boxes must have $3$ additional balls $> 16$. Thus, it is necessary that we use $\\le 22 - 16 = 6$ balls to fill a $3 \\times 5$ grid by the same rules.Again, no balls may appear $\\ge 4$ times, but by Pigeonhole, one ball must appear $3$ times. Without loss of generality, let this ball have color $17$ ; then the three boxes containing $17$ must have at least $2 \\cdot 3 + 1 = 7$ balls, contradiction.Therefore, $n = 23$ is the minimum."]}, "2001_usamo_problems/problem_6": {"id": {"year": 2001, "contest_name": "USAMO", "problem_number": 6}, "title": "2001 USAMO Problems/Problem 6", "problem": "Each point in the plane is assigned a real number such that, for any triangle, the number at the center of its inscribed circle is equal to the arithmetic mean of the three numbers at its vertices. Prove that all points in the plane are assigned the same number.", "answer_choices": "frq", "answer": "", "solutions": ["We label each upper case point with the corresponding lower case letter as its assigned number. The key step is the following lemma.Lemma : If $ABCD$ is an isosceles trapezoid, then $a + c = b + d$.Proof : Assume without loss of generality that $BC\\parallel AD$, and that rays $AB$ and $DC$ meet at $P$. Let $I$ be the incenter of triangle $PAC$, and let line $l$ bisect $\\angle APD$. Then $I$ is on $l$, so reflecting everything across line $l$ shows that $I$ is also the incenter of triangle $PDB$. Therefore,\n\n\\[\\frac{p + a + c}{3} = i = \\frac{p + b + d}{3}.\\]\n\nHence $a + c = b + d$, as desired. $\\blacksquare$"]}, "2002_usamo_problems/problem_1": {"id": {"year": 2002, "contest_name": "USAMO", "problem_number": 1}, "title": "2002 USAMO Problems/Problem 1", "problem": "Let $S$ be a set with 2002 elements, and let $N$ be an integer with $0 \\le N \\le 2^{2002}$. Prove that it is possible to color every subset of $S$ either blue or red so that the following conditions hold: (a) the union of any two red subsets is red; (b) the union of any two blue subsets is blue; (c) there are exactly $N$ red subsets.", "answer_choices": "frq", "answer": "", "solutions": ["Let a set colored in such a manner be properly colored. We prove that any set with $n$ elements can be properly colored for any $0 \\le N \\le 2^n$. We proceed by induction.The base case, $n = 0$, is trivial.Suppose that our claim holds for $n = k$. Let $s \\in S$, $|S| = k + 1$, and let $S'$ denote the set of all elements of $S$ other than $s$.If $N \\le 2^k$, then we may color all subsets of $S$ which contain $s$ blue, and we may properly color $S'$. This is a proper coloring because the union of any two red sets must be a subset of $S'$, which is properly colored, and any the union of any two blue sets either must be in $S'$, which is properly colored, or must contain $s$ and therefore be blue.If $N > 2^k$, then we color all subsets containing $s$ red, and we color $N - 2^k$ elements of $S'$ red in such a way that $S'$ is colored properly. Then $S$ is properly colored, using similar reasoning as before. Thus the induction is complete."]}, "2002_usamo_problems/problem_6": {"id": {"year": 2002, "contest_name": "USAMO", "problem_number": 6}, "title": "2002 USAMO Problems/Problem 6", "problem": "I have an $n \\times n$ sheet of stamps, from which I've been asked to tear out blocks of three adjacent stamps in a single row or column. (I can only tear along the perforations separating adjacent stamps, and each block must come out of the sheet in one piece.) Let $b(n)$ be the smallest number of blocks I can tear out and make it impossible to tear out any more blocks. Prove that there are real constants $c$ and $d$ such that $\\dfrac{1}{7} n^2 - cn \\leq b(n) \\leq \\dfrac{1}{5} n^2 + dn$ for all $n > 0$.", "answer_choices": "frq", "answer": "", "solutions": ["The upper bound requires an example of a set of $\\frac{1}{5}n^2 + dn$ blocks whose removal makes it impossible to remove any further blocks. It suffices to show that we can tile the plane by tiles containing one block for every five stamps such that no more blocks can be chosen. Two such tilings are shown below with one tile outlined in heavy lines. Given an $n\\times n$ section of the tiling take all blocks lying entirely within that section and add as many additional blocks as possible. If the basic tile is contained in an $(m + 1)\\times (m + 1)$ square, then the $n\\times n$ section is covered by tiles contained in a concentric $(n + 2m)\\times (n + 2m)$ square. Hence there are at most $\\frac{1}{5}(n + 2m)^2$ blocks entirely within the section. For an $n\\times n$ section of the tiling, there are at most $4n$ blocks which lie partially in and partially out of that section (hence these blocks contain at most $8n$ stamps in the $n\\times n$ square) and each of the additional blocks must contain one of these stamps. Thus there are at most $8n$ additional blocks. Thus there are at most\n\n\\[\\frac{1}{5}(n + 2m)^2 + 8n\\leq \\frac{1}{5}n^2 + \\frac{4m^2 + 4m + 40}{5}n\\]\n\nblocks total."]}, "2003_usamo_problems/problem_6": {"id": {"year": 2003, "contest_name": "USAMO", "problem_number": 6}, "title": "2003 USAMO Problems/Problem 6", "problem": "At the vertices of a regular hexagon are written six nonnegative integers whose sum is 2003. Bert is allowed to make moves of the following form: he may pick a vertex and replace the number written there by the absolute value of the difference between the numbers written at the two neighboring vertices. Prove that Bert can make a sequence of moves, after which the number 0 appears at all six vertices.", "answer_choices": "frq", "answer": "", "solutions": ["Assume the original numbers are $a,b,c,d,e,f$. Since $a+b+c+d+e+f$ is odd, either $a+c+e$ or $b+d+f$ must be odd. WLOG let $a+c+e$ be odd and $a\\ge c\\ge e \\ge 0$."]}, "2004_usamo_problems/problem_4": {"id": {"year": 2004, "contest_name": "USAMO", "problem_number": 4}, "title": "2004 USAMO Problems/Problem 4", "problem": "( Melanie Wood )\nAlice and Bob play a game on a 6 by 6 grid. On his or her turn, a player chooses a rational number not yet appearing on the grid and writes it in an empty square of the grid. Alice goes first and then the players alternate. When all squares have numbers written in them, in each row, the square with the greatest number is colored black. Alice wins if she can then draw a line from the top of the grid to the bottom of the grid that stays in black squares, and Bob wins if she can't. (If two squares share a vertex, Alice can draw a line from on to the other that stays in those two squares.) Find, with proof, a winning strategy for one of the players.", "answer_choices": "frq", "answer": "", "solutions": ["Before the game, Bob may select three useless squares per row. He may then move according to the following rules:"]}, "2005_canadian_mo_problems/problem_3": {"id": {"year": 2005, "contest_name": "Canadian MO", "problem_number": 3}, "title": "2005 Canadian MO Problems/Problem 3", "problem": "Let $S$ be a set of $n\\ge 3$ points in the interior of a circle. Show that there are three distinct points $a,b,c\\in S$ and three distinct points $A,B,C$ on the circle such that $a$ is (strictly) closer to $A$ than any other point in $S$, $b$ is closer to $B$ than any other point in $S$ and $c$ is closer to $C$ than any other point in $S$. Show that for no value of $n$ can four such points in $S$ (and corresponding points on the circle) be guaranteed.", "answer_choices": "frq", "answer": "", "solutions": ["(a) Let $H$ be the convex hull of $S$, and choose any three vertices $V_1, V_2, V_3$ of $H$.Now, draw a line $l_1$ through $V_1$ such that all points of $S$ lie on one side of $l_1$. (This is possible because $H$ is convex and contains $S$.) Define $l_2$ and $l_3$ similarly.For $i = 1, 2, 3$, let $m_i$ be the line perpendicular to $l_i$ passing through $V_i$, and let $m_i$ hit the circle at point $P_i$ on the side of $l_i$ opposite $S$.\nNow, each $P_i$ is closer to $V_i$ than any other point in $S$.\nSince vertices $V_1, V_2, V_3 \\in H$ are also in $S$, we are done.(b) Describe the circle as the curve $r = 1$ in polar coordinates. We will construct a set $S$ with an arbitrary number of elements satisfying the desired property. Let $V_1 = \\left(\\frac{1}{2}, 0\\right), V_2 = \\left(\\frac{1}{2}, \\frac{\\pi}{3}\\right), V_3 = \\left(\\frac{1}{2}, \\frac{2\\pi}{3}\\right) \\in S$. It is easy to see that for any point $P$ on the circle, $P$ is at most $\\frac{\\sqrt{3}}{2}$ away from one of the $V_i$. Therefore, if we also include points $Q_i$ on any of the line segments $OV_i$ ( $O$ is the center), where $OQ_i < 1 - \\frac{\\sqrt{3}}{2},$ then no point can be chosen on the circle which is closer to one of the $Q_i$ then the $P_i$.Thus $S$ is as desired."]}, "2006_romanian_nmo_problems/grade_10/problem_1": {"id": {"year": 2006, "contest_name": "Romanian NMO Problems/Grade 10/Problem 1", "problem_number": -1}, "title": "2006 Romanian NMO Problems/Grade 10/Problem 1", "problem": "Let $M$ be a set composed of $n$ elements and let $\\mathcal P (M)$ be its power set. Find all functions $f\u00a0: \\mathcal P (M) \\to \\{ 0,1,2,\\ldots,n \\}$ that have the properties (a) $f(A) \\neq 0$, for $A \\neq \\phi$ ; (b) $f \\left( A \\cup B \\right) = f \\left( A \\cap B \\right) + f \\left( A \\Delta B \\right)$, for all $A,B \\in \\mathcal P (M)$, where $A \\Delta B = \\left( A \\cup B \\right) \\backslash \\left( A \\cap B \\right)$.", "answer_choices": "frq", "answer": "", "solutions": ["I claim that $f(A)=|A|$, for all $A\\in \\mathcal P(M)$. Clearly this function works; we must now show that it is the only function with the two given properties. We shall do this by proving that any such function $f$ that satisfies both properties must be $f(A)=|A|$.We have $f(\\emptyset) = f(\\emptyset) + f(\\emptyset)$, hence $f(\\emptyset) = 0$. Also, if $A \\subset B \\subset M$, then $f(B) = f(A) + f(B-A)$ since $B = B \\cup A$, $A = B \\cap A$, and $B-A = B\\Delta A$.Let\n\n\\[A_{0} = \\emptyset \\subsetneq A_{1} \\subsetneq \\dotsb \\subsetneq A_{n-1} \\subsetneq A_{n} = M\\]\n\nbe an increasing sequence of subsets of $M$, such that $A_{i} = A_{i-1} \\cup \\{a_{i}\\}$ for all $i=1,\\dotsc,n$. Then $|A_{i}| = i$ for all $i$.Note that $f(a_{i}) \\ge 1$ for any $i$, from property (a). Hence\n\n\\[f(A_{0}) = 0 < f(A_{1}) < \\dotsb < f(A_{n-1}) < f(A_{n}) \\le n \\;,\\]\n\nwhich implies $f(A_{i}) = i$ for all $i$.I claim that $f(A)=|A|$, for all $A\\in \\mathcal P(M)$. Clearly this function works; we must now show that it is the only function with the two given properties. We shall do this by constructing a function $f$ that does satisfy both properties, and then showing that this function is in fact $f(A)=|A|$.We have $f(\\emptyset) = f(\\emptyset) + f(\\emptyset)$, hence $f(\\emptyset) = 0$. Note that if $|A|=1$, then $f(A)\\geq 1$, from property (a). Let $X=\\{x\\}$ and $Y=\\{x,y\\}$ for some $x,y\\in M$. We then have from property $B$ that $f(Y)=f(X)+f(Y\\backslash X)$. Since $|X|=|Y\\backslash X|=1$, $f(Y)\\geq 2$. This shows that for all $Y$ with $|Y|=2$, $f(Y)\\geq 2$.I shall now prove that $f(A)=|A|$ for all $A\\in \\mathcal P(M)$.Note that our lemma implies that $f(M)=n$. Consider a set $A\\subset M$ with cardinality $k$. We then have that $A \\cup M=A$ and $A \\Delta M=M\\backslash A$. We then have that $f(A)\\geq k$ and $f(M\\backslash A)\\geq n-k$, so their sum (which equals $f(M)$ from property (b)) is at least $k+n-k=n$. This then implies that $f(A)=k$ and $f(M\\backslash A)=n-k$ for all $A$. We defined $k$ to be $|A|$, so $f(A)=|A|$. This completes the proof."]}, "2006_usamo_problems/problem_2": {"id": {"year": 2006, "contest_name": "USAMO", "problem_number": 2}, "title": "2006 USAMO Problems/Problem 2", "problem": "( Dick Gibbs ) For a given positive integer $k$ find, in terms of $k$, the minimum value of $N$ for which there is a set of $2k+1$ distinct positive integers that has sum greater than $N$ but every subset of size $k$ has sum at most $N/2$.", "answer_choices": "frq", "answer": " N = 2k^3 + 3k^2 + 3k ", "solutions": ["Let one optimal set of integers be $\\{a_1,\\dots,a_{2k+1}\\}$ with $a_1 > a_2 > \\cdots > a_{2k+1} > 0$.The two conditions can now be rewritten as $a_1+\\cdots + a_k \\leq N/2$ and $a_1+\\cdots +a_{2k+1} > N$.\nSubtracting, we get that $a_{k+1}+\\cdots + a_{2k+1} > N/2$, and hence $a_{k+1}+\\cdots + a_{2k+1} > a_1+\\cdots + a_k$.\nIn words, the sum of the $k+1$ smallest numbers must exceed the sum of the $k$ largest ones.Let $a_{k+1}=C$. As all the numbers are distinct integers, we must have $\\forall i \\in\\{1,\\dots,k\\}:~ a_{k+1-i} \\geq C+i$, and also $\\forall i \\in\\{1,\\dots,k\\}:~ a_{k+1+i} \\leq C-i$.Thus we get that $a_1+\\cdots + a_k \\geq kC + \\dfrac{k(k+1)}2$, and $a_{k+1}+\\cdots + a_{2k+1} \\leq (k+1)C - \\dfrac{k(k+1)}2$.As we want the second sum to be larger, clearly we must have $(k+1)C - \\dfrac{k(k+1)}2 > kC + \\dfrac{k(k+1)}2$.\nThis simplifies to $C > k(k+1)$.Hence we get that:\\begin{align*} N & \\geq 2(a_1+\\cdots + a_k) \\\\ & \\geq 2\\left( kC + \\dfrac{k(k+1)}2 \\right) \\\\ & = 2kC + k(k+1) \\\\ & \\geq 2k(k^2+k+1) + k(k+1) \\\\ & = 2k^3 + 3k^2 + 3k \\end{align*}On the other hand, for the set $\\{ k^2+k+1+i ~|~ i\\in\\{-k,\\dots,k\\} \\, \\}$ the sum of the largest $k$ elements is exactly $k^3 + k^2 + k + \\dfrac{k(k+1)}2$, and the sum of the entire set is $(k^2+k+1)(2k+1) = 2k^3 + 3k^2 + 3k + 1$, which is more than twice the sum of the largest set.Hence the smallest possible $N$ is $\\boxed{ N = 2k^3 + 3k^2 + 3k }$.Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "2007_imo_problems/problem_3": {"id": {"year": 2007, "contest_name": "IMO", "problem_number": 3}, "title": "2007 IMO Problems/Problem 3", "problem": "In a mathematical competition some competitors are friends. Friendship is always mutual. Call a group of competitors a clique if each two of them are friends. (In particular, any group of fewer than two competitors is a clique.) The number of members of a clique is called its size. Given that, in this competition, the largest size of a clique is even, prove that the competitors can be arranged in two rooms such that the largest size of a clique contained in one room is the same as the largest size of a clique contained in the other room.", "answer_choices": "frq", "answer": "", "solutions": ["This problem needs a solution. If you have a solution for it, please help us out by adding it."]}, "2007_itest_problems/problem_49": {"id": {"year": 2007, "contest_name": "iTest", "problem_number": 49}, "title": "2007 iTest Problems/Problem 49", "problem": "How many $7$ -element subsets of $\\{1, 2, 3,\\ldots, 14\\}$ are there, the sum of whose elements is divisible by $14$?", "answer_choices": "frq", "answer": "246", "solutions": ["In order for a number to be divisible by $14$, the number must be divisible by $2$ and $7$.For divisibility by $7$, we can consider a coloring where elements inside the subset are red and elements outside the subset are blue. We can also split the coloring into two sections -- one from numbers 1 to 7, and another from numbers 8 to 14. Note that the total number of elements in a subset must be 7, so the number of red elements in the first section determines the number of red elements in the second section. Thus, we can split into two cases -- one where all sections are monochromatic and another where not all sections are monochromatic.For the first case, because of the seven member limit for subsets, there are $2$ options -- one where the first section is all red and one where the first section is all blue. For the second case, we can apply a cyclic shift on only the first section (i.e.: where RBBBBBB becomes BRBBBBB), and since the rest of the cases are covered, the rest of the cases can be divided into groups of 7. Doing a cyclic shift on the first section would result in an increase mod 7 of $n$, where $n$ is the number of red elements in the first section. Since $n$ is not a multiple of 7, each cyclic shift (up to the seventh one) result in a different residue mod 7.Since the raw total of 7-element subsets of $\\{1, 2, 3,\\ldots, 14\\}$ is $\\tbinom{14}{7} = 3432$, the total number of 7-element subsets that sum to a multiple of 7 is $2 + \\tfrac{3432-2}{7} = 492$.Now we need to find the number of 7-element subsets that sum to a multiple of 7 to also be a multiple of 2. To do this, note that one can swap the two sections of the original coloring and maintain the same residue mod 7. Thus, if $A$ is the set of all 492 subsets, then each element of $A$ has a corresponding element that is also in $A$. Moreover, during the swap, the parity is reversed because an odd number of residues would be affected (as residues that are colored red for both sections would be unaffected), so half of the subsets would be even.Therefore, the number of 7-element subsets that sum to a multiple of 14 is $\\tfrac{492}{2} = \\boxed{246}$."]}, "2007_usamo_problems/problem_4": {"id": {"year": 2007, "contest_name": "USAMO", "problem_number": 4}, "title": "2007 USAMO Problems/Problem 4", "problem": "( Reid Barton ) An animal with $n$ cells is a connected figure consisting of $n$ equal-sized square cells. ${}^1$ The figure below shows an 8-cell animal. A dinosaur is an animal with at least 2007 cells. It is said to be primitive if its cells cannot be partitioned into two or more dinosaurs. Find with proof the maximum number of cells in a primitive dinosaur. ${}^1$ Animals are also called polyominoes. They can be defined inductively. Two cells are adjacent if they share a complete edge. A single cell is an animal, and given an animal with $n$ cells, one with $n+1$ cells is obtained by adjoining a new cell by making it adjacent to one or more existing cells.", "answer_choices": "frq", "answer": "", "solutions": ["Let a $n$ -dino denote an animal with $n$ or more cells.We show by induction that an $n$ -dino with $4n-2$ or more animal cells is not primitive. (Note: if it had more, we could just take off enough until it had $4n-2$, which would have a partition, and then add the cells back on.)Base Case: If $n=1$, we have two cells, which are clearly not primitive.Inductive Step: Assume any $4n-2$ cell animal can be partitioned into two or more $n$ -dinos.For a given $(4n+2)$ -dino, take off any four cells (call them $w,\\ x,\\ y,\\ z$ ) to get an animal with $4n-2$ cells.This can be partitioned into two or more $n$ -dinos, let's call them $A$ and $B$. This means that $A$ and $B$ are connected.If both $A$ and $B$ are $(n+1)$ -dinos or if $w,\\ x,\\ y,\\ z$ don't all attach to one of them, then we're done.So assume $A$ has $n$ cells and thus $B$ has at least $3n-2$ cells, and that $w,\\ x,\\ y,\\ z$ are added to $B$. So $B$ has $3n+2$ cells total.Let $C$ denote the cell of $B$ attached to $A$. There are $3n+1$ cells on $B$ besides $C$. Thus, of the three (or less) sides of $C$ not attached to $A$, one of them must have $n+1$ cells by the pigeonhole principle. It then follows that we can add $A$, $C$, and the other two sides together to get an $(n+1)$ dino, and the side of $C$ that has $n+1$ cells is also an $n+1$ -dino, so we can partition the animal with $4n+2$ cells into two $(n+1)$ -dinos and we're done.Thus, our answer is $4(2007) - 3 = 8025$ cells.", "For simplicity, let $k=2007$ and let $n$ be the number of squares. Let the centers of the squares be vertices, and connect any centers of adjacent squares with edges. Suppose we have some loops. Just remove an edge in the loop. We are still connected since you can go around the other way in the loop. Now we have no loops. Each vertex can have at most 4 edges coming out of it. For each point, assign it the quadruple : $(a,b,c,d)$ where $a$, $b$, $c$, $d$ are the numbers of vertices on each branch, WLOG $a\\ge b\\ge c\\ge d$. Note $a+b+c+d=n-1$.Claim: If $n=4k-2$, then we must be able to divide the animal into two dinosaurs.\nChose a vertex, $v$, for which $a$ is minimal (i.e. out of all maximal elements in a quadruple, choose the one with the least maximal element). We have that $4a \\ge a+b+c+d=4k-3$, so $a\\ge k$. Hence we can just cut off that branch, that forms a dinosaur.But suppose the remaining vertices do not make a dinosaur. Then we have $b+c+d+1\\le k-1 \\iff n-a\\le k-1\\iff a\\ge 3k-1$. Now move to the first point on the branch at $a$. We have a new quadruple $p,\\ q,\\ r,\\ b+c+d+1$ ) where $p+q+r=a-1\\ge 3k-2$.Now consider the maximal element of that quadruple. We already have $b+c+d+1\\le k-1$. WLOG $p\\ge q\\ge r\\ge 0$, then $3p\\ge p+q+r=a-1\\ge 3k-2\\implies p\\ge k$ so $p>k-1=b+c+d+1$, so $p$ is the maximal element of that quadruple.Also $a-1=p+q+r\\ge p+0+0$, so $p<a$. But that is a contradiction to the minimality of $a$. Therefore, we must have that $b+c+d+1\\ge k$, so we have a partition of two dinosaurs.Maximum: $n=4k-3$.\nConsider a cross with each branch having $k-1$ vertices. Clearly if we take partition $k$ vertices, we remove the center, and we are not connected.So $k=2007$ : $4\\cdot 2007-3=8025$.", "Turn the dinosaur into a graph (cells are vertices, adjacent cells connected by an edge) and prove this result about graphs. A connected graph with $V$ vertices, where each vertex has degree less than or equal to $D$, can be partitioned into connected components of sizes at least $\\frac{V-1}{D}$. So then in this special case, we have $D = 4$, and so $V = 2006 \\times 4+1$ (a possible configuration of this size that works consists of a center and 4 lines of cells each of size 2006 connected to the center). We next throw out all the geometry of this situation, so that we have a completely unconstrained graph. If we prove the above-mentioned result, we can put the geometry back in later by taking the connected components that our partition gives us, then filling back all edges that have to be there due to adjacent cells. This won't change any of the problem constraints, so we can legitimately do this.Going, now, to the case of arbitrary graphs, we WOP on the number of edges. If we can remove any edge and still have a connected graph, then we have found a smaller graph that does not obey our theorem, a contradiction due to the minimality imposed by WOP. Therefore, the only case we have to worry about is when the graph is a tree. If it's a tree, we can root the tree and consider the size of subtrees. Pick the root such that the size of the largest subtree is minimized. This minimum must be at least $\\frac{V-1}{D}$, otherwise the sum of the size of the subtrees is smaller than the size of the graph, which is a contradiction. Also, it must be at most $\\frac{V}{2}$, or else pick the subtree of size greater than $\\frac{V}{2}$ and you have decreased the size of the largest subtree if you root from that vertex instead, so you have some subtree with size between $\\frac{V-1}{D}$ and $\\frac V2$. Cut the edge connecting the root to that subtree, and use that as your partition.It is easy to see that these partitions satisfy the contention of our theorem, so we are done.", "Let $s$ denote the minimum number of cells in a dinosaur; the number this year is $s = 2007$.Claim: The maximum number of cells in a primitive dinosaur is $4(s - 1) + 1$.First, a primitive dinosaur can contain up to $4(s - 1) + 1$ cells. To see this, consider a dinosaur in the form of a cross consisting of a central cell and four arms with $s - 1$ cells apiece. No connected figure with at least $s$ cells can be removed without disconnecting the dinosaur.The proof that no dinosaur with at least $4(s - 1) + 2$ cells is primitive relies on the following result.Lemma. Let $D$ be a dinosaur having at least $4(s - 1) + 2$ cells, and let $R$ (red) and $B$ (black) be two complementary animals in $D$, i.e. $R\\cap B = \\emptyset$ and $R\\cup B = D$. Suppose $|R|\\leq s - 1$. Then $R$ can be augmented to produce animals $\\~{R}\\subset R$ (Error compiling LaTeX. Unknown error_msg) and $\\{B} = D\\backslash\\{R}$ (Error compiling LaTeX. Unknown error_msg) such that at least one of the following holds:(i) $|\\{R}|\\geq s$ (Error compiling LaTeX. Unknown error_msg) and $|\\~{B}|\\geq s$ (Error compiling LaTeX. Unknown error_msg),(ii) $|\\{R}| = |R| + 1$ (Error compiling LaTeX. Unknown error_msg),(iii) $|R| < |\\{R}|\\leq s - 1$ (Error compiling LaTeX. Unknown error_msg).Proof. If there is a black cell adjacent to $R$ that can be made red without disconnecting $B$, then (ii) holds. Otherwise, there is a black cell $c$ adjacent to $R$ whose removal disconnects $B$. Of the squares adjacent to $c$, at least one is red, and at least one is black, otherwise $B$ would be disconnected. Then there are at most three resulting components $\\mathcal{C}_1, \\mathcal{C}_2, \\mathcal{C}_3$ of $B$ after the removal of $c$. Without loss of generality, $\\mathcal{C}_3$ is the largest of the remaining components. (Note that $\\mathcal{C}_1$ or $\\mathcal{C}_2$ may be empty.) Now $\\mathcal{C}_3$ has at least $\\lceil (3s - 2)/3\\rceil = s$ cells. Let $\\{B} = \\mathcal{C}_3$ (Error compiling LaTeX. Unknown error_msg). Then $|\\{R}| = |R| + |\\mathcal{C}_1| + |\\mathcal{C}_2| + 1$ (Error compiling LaTeX. Unknown error_msg). If $|\\{B}|\\leq 3s - 2$ (Error compiling LaTeX. Unknown error_msg), then $|\\{R}|\\geq s$ (Error compiling LaTeX. Unknown error_msg) and (i) holds. If $|\\{B}|\\geq 3s - 1$ (Error compiling LaTeX. Unknown error_msg) then either (ii) or (iii) holds, depending on whether $|\\{R}|\\geq s$ (Error compiling LaTeX. Unknown error_msg) or not. $\\blacksquare$Starting with $|R| = 1$, repeatedly apply the Lemma. Because in alternatives (ii) and (iii) $|R|$ increases but remains less than $s$, alternative (i) eventually must occur. This shows that no dinosaur with at least $4(s - 1) + 2$ cells is primitive.Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "2008_usamo_problems/problem_3": {"id": {"year": 2008, "contest_name": "USAMO", "problem_number": 3}, "title": "2008 USAMO Problems/Problem 3", "problem": "( Gabriel Carroll ) Let $n$ be a positive integer. Denote by $S_n$ the set of points $(x, y)$ with integer coordinates such that\n\n\n\\[\\left|x\\right| + \\left|y + \\frac {1}{2}\\right| < n\\]\n\n\nA path is a sequence of distinct points $(x_1, y_1 ), (x_2, y_2 ), \\ldots, (x_\\ell, y_\\ell)$ in $S_n$ such that, for $i = 2, \\ldots, \\ell$, the distance between $(x_i, y_i )$ and $(x_{i - 1}, y_{i - 1} )$ is $1$ (in other words, the points $(x_i, y_i )$ and $(x_{i - 1}, y_{i - 1} )$ are neighbors in the lattice of points with integer coordinates). Prove that the points in $S_n$ cannot be partitioned into fewer than $n$ paths (a partition of $S_n$ into $m$ paths is a set $\\mathcal{P}$ of $m$ nonempty paths such that each point in $S_n$ appears in exactly one of the $m$ paths in $\\mathcal{P}$ ).", "answer_choices": "frq", "answer": "", "solutions": ["Color all the points in $S_{n}$ red or black such that each row of points starts and ends with a red point, and alternates between red and black for each point in the row. This creates a checkerboard pattern, except that the middle two rows are identical."]}, "2008_usamo_problems/problem_4": {"id": {"year": 2008, "contest_name": "USAMO", "problem_number": 4}, "title": "2008 USAMO Problems/Problem 4", "problem": "( Gregory Galparin ) Let $\\mathcal{P}$ be a convex polygon with $n$ sides, $n\\ge3$. Any set of $n - 3$ diagonals of $\\mathcal{P}$ that do not intersect in the interior of the polygon determine a triangulation of $\\mathcal{P}$ into $n - 2$ triangles. If $\\mathcal{P}$ is regular and there is a triangulation of $\\mathcal{P}$ consisting of only isosceles triangles, find all the possible values of $n$.", "answer_choices": "frq", "answer": "", "solutions": ["We label the vertices of $\\mathcal{P}$ as $P_0, P_1, P_2, \\ldots, P_n$. Consider a diagonal $d = \\overline{P_a\\,P_{a+k}},\\,k \\le n/2$ in the triangulation. We show that $k$ must have the form $2^{m}$ for some nonnegative integer $m$.This diagonal partitions $\\mathcal{P}$ into two regions $\\mathcal{Q},\\, \\mathcal{R}$, and is the side of an isosceles triangle in both regions. Without loss of generality suppose the area of $Q$ is less than the area of $R$ (so the center of $P$ does not lie in the interior of $Q$ ); it follows that the lengths of the edges and diagonals in $Q$ are all smaller than $d$. Thus $d$ must the be the base of the isosceles triangle in $Q$, from which it follows that the isosceles triangle is $\\triangle P_aP_{a+k/2}\\,P_{a+k}$, and so $2|k$. Repeating this process on the legs of isosceles triangle ( $\\overline{P_aP_{a+k/2}},\\,\\overline{P_{a+k}P_{a+k/2}}$ ), it follows that $k = 2^m$ for some positive integer $m$ (if we allow degeneracy, then we can also let $m=0$ )."]}, "2009_usamo_problems/problem_3": {"id": {"year": 2009, "contest_name": "USAMO", "problem_number": 3}, "title": "2009 USAMO Problems/Problem 3", "problem": "We define a chessboard polygon to be a polygon whose sides are situated along lines of the form $x = a$ or $y = b$, where $a$ and $b$ are integers. These lines divide the interior into unit squares, which are shaded alternately grey and white so that adjacent squares have different colors. To tile a chessboard polygon by dominoes is to exactly cover the polygon by non-overlapping $1 \\times 2$ rectangles. Finally, a tasteful tiling is one which avoids the two configurations of dominoes shown on the left below. Two tilings of a $3 \\times 4$ rectangle are shown; the first one is tasteful, while the second is not, due to the vertical dominoes in the upper right corner. [asy] size(400); pathpen = linewidth(2.5); void chessboard(int a, int b, pair P){ for(int i = 0; i < a; ++i) for(int j = 0; j < b; ++j) if((i+j)\u00a0% 2 == 1) fill(shift(P.x+i,P.y+j)*unitsquare,rgb(0.6,0.6,0.6)); D(P--P+(a,0)--P+(a,b)--P+(0,b)--cycle); } chessboard(2,2,(2.5,0));fill(unitsquare,rgb(0.6,0.6,0.6));fill(shift(1,1)*unitsquare,rgb(0.6,0.6,0.6)); chessboard(4,3,(6,0)); chessboard(4,3,(11,0)); MP(\"\\mathrm{Distasteful\\ tilings}\",(2.25,3),fontsize(12)); /* draw lines */ D((0,0)--(2,0)--(2,2)--(0,2)--cycle); D((1,0)--(1,2)); D((2.5,1)--(4.5,1)); D((7,0)--(7,2)--(6,2)--(10,2)--(9,2)--(9,0)--(9,1)--(7,1)); D((8,2)--(8,3)); D((12,0)--(12,2)--(11,2)--(13,2)); D((13,1)--(15,1)--(14,1)--(14,3)); D((13,0)--(13,3)); [/asy] a) Prove that if a chessboard polygon can be tiled by dominoes, then it can be done so tastefully. b) Prove that such a tasteful tiling is unique.", "answer_choices": "frq", "answer": "", "solutions": ["This problem needs a solution. If you have a solution for it, please help us out by adding it."]}, "2012_usamo_problems/problem_2": {"id": {"year": 2012, "contest_name": "USAMO", "problem_number": 2}, "title": "2012 USAMO Problems/Problem 2", "problem": "A circle is divided into 432 congruent arcs by 432 points. The points are colored in four colors such that some 108 points are colored Red, some 108 points are colored Green, some 108 points are colored Blue, and the remaining 108 points are colored Yellow. Prove that one can choose three points of each color in such a way that the four triangles formed by the chosen points of the same color are congruent.", "answer_choices": "frq", "answer": "", "solutions": ["If you rotate the red points 431 times, they will overlap with blue points $108\\times 108$ times, for an average of $\\frac{108\\times 108}{431}$ per rotation. Note that this average is slightly greater than 27. Therefore at some point 28 red points overlap with blue points. In other words, there exist 28 red and blue points such that the convex 28-gons formed by them are congruent.Rotate these 28 red points 431 times. They will overlap with green points $108\\times 28$ times, for an average of $\\frac{108\\times 28}{431}$ per rotation. This average is slightly greater than 7, so at some point 8 of those red points overlap with green points. In other words, there exist 8 red points, 8 blue points, and 8 green points such that the convex octagons formed by them are congruent.Rotate these 8 red points 431 times. They will overlap with yellow points $108\\times 8$ times, for an average of $\\frac{108\\cdot 8}{431}$ per rotation. This average is slightly greater than 2, so at some point 3 of those red points will overlap with yellow points. In other words, there exist 3 red points, 3 blue points, 3 green points, and 3 yellow points such that the triangles formed by them are congruent.", "Huge bash of Pigeonhole Principle:\\[108\\longrightarrow 28\\longrightarrow 8\\longrightarrow 3\\]$\\left \\lceil{\\left \\lceil{\\left \\lceil{108\\cdot \\frac{108}{431}}\\right \\rceil \\cdot \\frac{108}{431}}\\right \\rceil \\cdot \\frac{108}{431}}\\right \\rceil =\\left \\lceil{\\left \\lceil{28\\cdot \\frac{108}{431}}\\right \\rceil \\cdot \\frac{108}{431}}\\right \\rceil =\\left \\lceil{8\\cdot \\frac{108}{431}}\\right \\rceil =3$"]}, "2014_imo_problems/problem_2": {"id": {"year": 2014, "contest_name": "IMO", "problem_number": 2}, "title": "2014 IMO Problems/Problem 2", "problem": "Let $n\\ge2$ be an integer. Consider an $n\\times n$ chessboard consisting of $n^2$ unit squares. A configuration of $n$ rooks on this board is $\\textit{peaceful}$ if every row and every column contains exactly one rook. Find the greatest positive integer $k$ such that, for each peaceful configuration of $n$ rooks, there is a $k\\times k$ square which does not contain a rook on any of its $k^2$ squares.", "answer_choices": "frq", "answer": "", "solutions": ["We claim the answer is $k = \\lceil \\sqrt{n}\\rceil - 1$, where $\\lceil n\\rceil$ is the ceiling function of $n$ ; i.e., the least integer greater than or equal to $n$. Notice that $\\lceil n\\rceil < n + 1$.First, we shall show that each $n \\times n$ chessboard with a peaceful configuration of $n$ rooks contains a valid $k \\times k$ square. Consider firstly the rook $R$ on the top row of the board. Because $k < n$, there exists a set $C$ of $k$ consecutive columns, one of which contains rook $R$. Consider the $n - k + 1$ $k \\times k$ squares in $C$. Of them, only one contains the rook $R$ on one of its squares. Furthermore, each of the other $k - 1$ rooks in $C$ can only make up to $k$ of the $k \\times k$ squares have it on one of its squares. Therefore, because\n\n\\[n - k + 1 = n - \\lceil \\sqrt{n}\\rceil + 2 > n - \\sqrt{n} + 1 = \\sqrt{n} (\\sqrt{n} - 1) + 1 > (\\lceil \\sqrt{n}\\rceil - 1) (\\lceil \\sqrt{n}\\rceil - 2) + 1 = k(k - 1) + 1,\\]\n\nby the Pigeonhole Principle there exists a $k \\times k$ square in $C$ not covered by any rook in $C$. Clearly, that square cannot be covered by any rook outside of $C$, and so it is a valid choice.It remains to show that there exists a chessboard without a $(k+1) \\times (k+1)$ square. Indeed, such a board exists. First, place a rook at the upper-left corner of the board. Next, place a rook 1 space to the right and $(k+1)$ spaces down of the first rook. Then, place a rook 1 space to the right and $(k+1)$ spaces down of the second rook, and so on, until the placement of a new rook will be under the lower boundary of the board. In that case, place a rook in the same unoccupied column and in the first unoccupied row, and continue placement of subsequent rooks. This arrangement of rooks is clearly peaceful, and because $(k+1)^2 > n$ it has the property that any $(k+1) \\times (k+1)$ square in the board will be occupied by at least one rook, completing the proof.Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "2014_imo_problems/problem_6": {"id": {"year": 2014, "contest_name": "IMO", "problem_number": 6}, "title": "2014 IMO Problems/Problem 6", "problem": "A set of lines in the plane is in $\\textit{general position}$ if no two are parallel and no three pass through the same point. A set of lines in general position cuts the plane into regions, some of which have finite area; we call these its $\\textit{finite regions}$. Prove that for all sufficiently large $n$, in any set of $n$ lines in general position it is possible to colour at least $\\sqrt{n}$ of the lines blue in such a way that none of its finite regions has a completely blue boundary.", "answer_choices": "frq", "answer": "", "solutions": ["Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page.Call the $\\binom{n}{2}$ intersections, well, points. Then each line will have $n-1$ points. We call 2 points (on a line) neighbors if there are no other points on the line segment joining those 2. Then each finite region has to be a convex polygon whose any pair of neighboring vertices are, well, neighbors. Now start by coloring any line blue, and all points are uncolored (neither red nor blue).Suppose there is an uncolored line which does not pass through any red points. Color that line blue. Now consider each of the intersections that line makes with the other blue lines. For each intersection point $X$ of the 2 blue lines $l_1,l_2$, color it blue (it was originally uncolored). Now consider the neighbors of $X$ on $l_1,l_2$, call them $A_1,A_2$ on $l_1$ and $B_1,B_2$ on $l_2$ (if there is only 1 neighbor, let the other point be an uncolored dummy). If neither $A_1$ nor $A_2$ is blue, we colour them both red. Else if neither $B_1$ nor $B_2$ is blue, we colour them both red. Otherwise, we colour the uncolored ones (out of the 4 points) red. Anyway, we would have colored at most 2 points red. Once we have done this for all the intersection points, proceed back to the start of this paragraph until no such line exists.Now to show it works. Suppose there is a finite region polygon $P_1...P_m$ with all blue boundaries (with $P_{m+1}=P_1$ ). Then all the points must be blue. Consider the first point colored blue, WLOG let it be $P_2$. Suppose the previous line to be colored blue is $P_1P_2$. Then $P_2P_3$ has to be colored blue before that, and $P_3P_4$ has to be uncolored (otherwise $P_3$ will be colored blue first). So $P_3$ is uncolored. Then if $P_1$ is blue, $P_3$ will be colored red by our coloring algorithm. $P_1$ has to be uncolored and by our coloring algorithm at least one of $P_1,P_3$ will be colored red. Note that no blue line will pass through a red point. Thus there are no finite region with blue boundaries.Now suppose $k$ lines are blue. By our algorithm, each blue point intersection will introduce at most 2 red points. Since we can't color any more lines blue, those red points will cover the remaining lines. Thus $2\\binom{k}{2}\\geq n-k\\implies k\\geq \\sqrt{n}$ exact.Note: this works for all ${n}\\geq{2}$, provided there is no mistake."]}, "2015_imo_problems/problem_1": {"id": {"year": 2015, "contest_name": "IMO", "problem_number": 1}, "title": "2015 IMO Problems/Problem 1", "problem": "We say that a finite set $\\mathcal{S}$ in the plane is balanced\nif, for any two different points $A$, $B$ in $\\mathcal{S}$, there is\na point $C$ in $\\mathcal{S}$ such that $AC=BC$. We say that\n$\\mathcal{S}$ is centre-free if for any three points $A$, $B$, $C$ in\n$\\mathcal{S}$, there is no point $P$ in $\\mathcal{S}$ such that\n$PA=PB=PC$.", "answer_choices": "frq", "answer": "", "solutions": ["Part (a): We explicitly construct the sets $\\mathcal{S}$. For\nodd $n$, $\\mathcal{S}$ can be taken to be the vertices of\nregular polygons $P_n$ with $n$ sides: given any two vertices $A$ and\n$B$, one of the two open half-spaces into\nwhich $AB$ divides $P_n$ contains an odd number of $k$ of vertices of\n$P_n$. The $((k+1)/2)^{th}$ vertex encountered while moving from $A$\nto $B$ along the circumcircle of $P_n$ is therefore equidistant from\n$A$ and $B$.If $n \\geq 4$ is even, choose $m\\geq 0$ to be the largest\ninteger such that\n\n\\[x:=(n-2)(\\pi/3)/2^m \\geq 2\\pi/3.\\]\n\nHence\n$x < 4\\pi/3 < 2\\pi$. Consider a circle\n$K$ with centre $O$, and let\n$A_1, \\ldots, A_{n-1}$ be distinct points placed counterclockwise\n(say) on $K$ such that $\\angle A_iOA_{i+1}=\\pi/3/2^m$ (for\n$i=1,\\ldots,n-2$ ). Hence for any line\n$OA_i$, there is a line $OA_j$ such that $\\angle A_iOA_j=\\pi/3$\n(using the facts that\n$2\\pi > x=\\angle A_1OA_{n-1} \\geq 2\\pi/3$, and $n-1$ odd). Thus\n$O$, $A_i$ and $A_j$ form an equilateral triangle. In other words, for\narbitrary $A_i$, there exists $A_j$ equidistant to\n$O$ and $A_i$. Also given any $i,j$ such that\n$1 \\leq i, j \\leq n-1$, $O$ is equidistant to $A_i$ and $A_j$. Hence\nthe $n$ points $O, A_1, \\ldots, A_{n-1}$ form a balanced set.Part (b): Note that if $n$ is odd, the set $\\mathcal{S}$ of\nvertices of a regular polygon $P_n$ of $n$ sides forms a balanced set\n(as above) and a centre-free set (trivially, since the centre of the\ncircumscribing circle of $P_n$ does not belong to $\\mathcal{S}$ ).For $n$ even, we prove that a balanced, centre free set consisting of $n$\npoints does not exist. Assume that\n$\\mathcal{S}=\\{A_i: 1\\leq i \\leq n\\}$ is centre-free. Pick an\narbitrary $A_i \\in \\mathcal{S}$, and let $n_i$ be the number of\ndistinct non-ordered pairs of points $(A_j,A_k)$ ( $j\\neq k$ ) to\nwhich $A_i$ is equidistant. Any\ntwo such pairs are disjoint (for, if there were two such pairs $(A_r,A_s)$\nand $(A_r, A_t)$ with $r, s, t$ distinct, then $A_i$ would be\nequidistant to $A_r$, $A_s$, and $A_t$, violating the centre-free\nproperty). Hence $n_i \\leq (n-2)/2$\n(we use the fact that $n$ is even here), which means\n$\\sum_i n_i \\leq n(n-2)/2 = n(n-1)/2 -n/2$. Hence there are at least\n$n/2$ non-ordered pairs $(A_j, A_k)$ such that no point in\n$\\mathcal{S}$ is equidistant to $A_j$ and $A_k$."]}, "2015_imo_problems/problem_6": {"id": {"year": 2015, "contest_name": "IMO", "problem_number": 6}, "title": "2015 IMO Problems/Problem 6", "problem": "The sequence $a_1,a_2,\\dots$ of integers satisfies the conditions:\n(i) $1\\le a_j\\le2015$ for all $j\\ge1$,\n(ii) $k+a_k\\neq \\ell+a_\\ell$ for all $1\\le k<\\ell$.\nProve that there exist two positive integers $b$ and $N$ for which\n\n\\[\\left\\vert\\sum_{j=m+1}^n(a_j-b)\\right\\vert\\le1007^2\\]\n\nfor all integers $m$ and $n$ such that $n>m\\ge N$.\nProposed by Ivan Guo and Ross Atkins, Australia.", "answer_choices": "frq", "answer": "", "solutions": ["We can prove the more general statement. Theorem Let $T$ be a non-negative integer parameter. If given a sequence $a_1,a_2,\\dots$ that satisfies the conditions:\n(i) $1 \\le a_j \\le T+1$ for all $j \\le 1;$\n(ii) $k+a_k \\ne \\ell+a_\\ell$ for all $1 \\le k<\\ell,$ then there exist two integers $v$ and $N$, $0 \\le v \\le T$ and $N>0$, for which\n\n\\[\\left\\vert\\sum_{j=m+1}^n(a_j-(v+1))\\right\\vert\\le (T-v)\\,v \\le \\left(\\frac T 2\\right)^2\\]\n\nfor all integers $m$ and $n$ such that $n>m\\ge N$. Proof Consider the set of points on a plane: $\\{(x,y) \\mid x,y \\in \\mathbb N,\\,y \\le T+1\\}$ (let's call it the base strip ). The sequence is represented on it by the subset $\\{(i,a_i) \\mid i \\in \\mathbb N\\}$ which is painted red. Each line $L_n$ of kind $x+y=n$, where $n \\ge 2$ is an integer, will be called a carrier line. Note that the condition (ii) states that each carrier line is occupied by at most one red point. Every such line with exactly one red point on it will be called occupied while the rest carriers will be called free.\nFirst we prove that the set of free carriers is finite. Indeed, all the carriers $L_n$ with $2 \\le n \\le T+m+1$, where $m \\in \\mathbb N$, cover the part of the base strip having $x \\le m$, so there are at least $m$ red points lying on them. Thus, the number of free carriers among them is at most $T+m-m=T$. Since $m$ is arbitrary, the total number of free cariers doesn't exceed $T$. Take $N$ such that all the carriers $L_n$ with $n \\ge N+2$ are occupied.\nNext, take any red point and consider the points on the base strip which are lying on the point's carrier below it (i.e. having strictly greater $x$ ). Call it the point's trace and paint black. Finally, the set $P_x=\\{\\,y \\mid (x,y) \\text { is black}\\}$ will be called a pattern, the number elements $|P_x|$ in it will be called its volume and the sum $w_x$ of all elements in $P_x$ will be called its weight.\nNow let $j>N$. Lets track how $P_j$, its volume and its weight change when $j$ increases by 1. Obviously $P_{j+1}$ is $P_j$ plus added $a_j$ (red point) and shifted down by $1$ ; a point that goes to $0$ vanishes. This means that the volume doesn't change at all. Indeed, if $1 \\notin P_j$, then $a_j=1$ or the carrier $L_{j+1}$ will remain unoccupied, so one point always vanishes going to $0$, and exactly one point is added before the shift (it may be the same point). Let $v$ be this constant volume. As a pattern never contains $T+1$, $v$ ranges from $0$ to $T$. Now it is clearly that $w_{j+1}$ is $w_j$ plus $a_j$ (red point added) and minus $v+1$ (all elements are shifted by $1$ ), i.e. $a_j-(v+1)=w_{j+1}-w_j$. Thus, when $n>m\\ge N$ :\n\n\\[\\sum_{j=m+1}^n(a_j-(v+1))=w_{n+1}-w_{m+1}\\,.\\]\n\nTo finish, it remains to note that the weight ranges from $1+2+\\dots+v$ to $(T-v+1)+(T-v+2)+\\dots+T$, so its swing is:\n\n\\[\\sum_{i=1}^v (T-v+i) - \\sum_{i=1}^v i=\\sum_{i=1}^v (T-v)=(T-v)\\,v\\;. \\quad \\blacksquare\\]"]}, "2020_imo_problems/problem_3": {"id": {"year": 2020, "contest_name": "IMO", "problem_number": 3}, "title": "2020 IMO Problems/Problem 3", "problem": "There are $4n$ pebbles of weights $1, 2, 3,..., 4n$. Each pebble is colored in one of $n$ colors and there are four pebbles of each color. Show that we can arrange the pebbles into two piles so that the following two conditions are both satisfied: The total weights of both piles are the same. Each pile contains two pebbles of each color.", "answer_choices": "frq", "answer": "", "solutions": ["https://youtu.be/bDHtM1wijbY [Video covers all day 1 problems]"]}, "2020_imo_problems/problem_4": {"id": {"year": 2020, "contest_name": "IMO", "problem_number": 4}, "title": "2020 IMO Problems/Problem 4", "problem": "There is an integer $n > 1$. There are $n^2$ stations on a slope of a mountain, all at different altitudes. Each of two cable car companies, $A$ and $B$, operates $k$ cable cars; each cable car provides a transfer from one of the stations to a higher one (with no intermediate stops). The $k$ cable cars of $A$ have $k$ different starting points and $k$ different finishing points, and a cable car that starts higher also finishes higher. The same conditions hold for $B$. We say that two stations are linked by a company if one can start from the lower station and reach the higher one by using one or more cars of that company (no other movements between stations are allowed). Determine the smallest positive integer k for which one can guarantee that there are two stations that are linked by both companies.", "answer_choices": "frq", "answer": "", "solutions": ["https://www.youtube.com/watch?v=dTqwOoSfaAA [video covers all day 2 problems]"]}, "2021_imo_problems/problem_5": {"id": {"year": 2021, "contest_name": "IMO", "problem_number": 5}, "title": "2021 IMO Problems/Problem 5", "problem": "Two squirrels, Bushy and Jumpy, have collected 2021 walnuts for the winter. Jumpy numbers the walnuts from 1 through 2021, and digs 2021 little holes in a circular pattern in the ground around their favourite tree. The next morning Jumpy notices that Bushy had placed one walnut into each hole, but had paid no attention to the numbering. Unhappy, Jumpy decides to reorder the walnuts by performing a sequence of 2021 moves. In the $k$ -th move, Jumpy swaps the positions of the two walnuts adjacent to walnut $k$. Prove that there exists a value of $k$ such that, on the $k$ -th move, Jumpy swaps some walnuts $a$ and $b$ such that $a < k < b$. https://youtu.be/vUftJHRaNx8 [Much shorter solution, video contains solutions to all day 2 problems]", "answer_choices": "frq", "answer": "", "solutions": ["We will start by introducing some notation.The proof works by counting the parity of upcomming bad nuts and hinges on the fact that 2021 is odd.\nWe start by proving that at any point in time there are an odd number of bad\nnuts. Let $B$ be the number of bad nuts and $G$ the number of good nuts. A bad\nnut is either part of two increasing or two decreasing pairs. Let the number\nof increasing bad nuts be $B_1$ and decreasing bad nuts be $B_2$. A good nut\nis part of one increasing and one decreasing pair. Let $I$ and $D$ be the\nnumber of increasing and decreasing pairs respectively. Then$2I = G + 2B_1$$2D = G + 2B_2$since we are double-counting each pair. Therefore $G$ must be even, and since $2021 = G + B$ is odd, $B$ must be odd.If we can prove the existence of a bad current nut, we are done. We show that when a current nut is good, the number of bad upcomming nuts does not change parity after the move. Since there are and odd number of upcomming bad nuts before the first move (every nut is upcomming) and 0 upcomming bad nuts after the last move (there are 0 upcomming nuts), this will show not all current nuts can be good which completes the proof.We now show that when the current nut is good, the number of bad upcomming nots does not change parity. Consider the $k$ 'th move and assume the current $n$ is good and lies in hole $H_i$. After the move, the current nut is no longer upcomming, but since it was asummed to be good, this does not contrubute to the number of bad upcomming nuts. The only nuts whose status can possibly change is the nuts in holes $H_{i-2}, H_{i-1}, H_{i+1}, H_{i+2}$. Since the current nut is good, its two neighbors $a,b$ in $H_{i-1}, H_{i+1}$ respectively are either both smaller or larger than $n$. We tackle the two cases seperately.Case $a,b < n$In this case neither $a$ nor $b$ are upcomming nuts at the time of the move and their status after the move is\nirrelevant for the parity of bad upcomming nuts. Consider the nut $c$ in hole $H_{i-2}$. If $c$ is not upcomming, it is irrelevant. Assume $c$ is upcomming. Then $c > n$ and thus $c > a,b$. Therefore the nut pair $H_{i-2}, H_{i-1}$ is decreasing both before and after the move, so $c$ cannot change status. One can make an analogous argument for the nut on $H_{i+2}$. This completes the proof the the parity of upcomming bad nuts are unchanged in this case.Case $a,b > n$In this case the nuts $a,b$ are upcomming, so their status matters. Let $c$ be the nut in $H_{i-2}$. If the status of either of the holes $H_{i-2}, H_{i-1}$ change, it changes for both of them. This is because the pair $H_{i-1}, H_i$ is decreasing both before and after the move, so for a status change to occur it must be the case that it is the pair $H_{i-2}, H_{i-1}$ which changes direction (which in turn changes the status for both holes). If swapping $a$ and $b$ changes the direction of $H_{i-2}, H_{i-1}$, then either $a < c < b$ or $b < c < a$ is true. In both cases, $c > n$, so $c$ is an upcomming nut. Since the nuts in both $H_{i-1}$ and $H_{i+1}$ are upcomming both before and after the move, changing the status of either $H_{i-2}$ or $H_{i-1}$ yields a status change for two upcomming nuts. A completely analogous argument can be made for $H_{i+1}, H_{i+2}$.This shows that if some upcomming nut changes status after the move, then an even number of upcomming nuts change status. This preserves the parity of the number of upcomming bad nuts and completes the proof."]}, "1981_imo_problems/problem_2": {"id": {"year": 1981, "contest_name": "IMO", "problem_number": 2}, "title": "1981 IMO Problems/Problem 2", "problem": "Let $1 \\le r \\le n$ and consider all subsets of $r$ elements of the set $\\{ 1, 2, \\ldots, n \\}$. Each of these subsets has a smallest member. Let $F(n,r)$ denote the arithmetic mean of these smallest numbers; prove that $F(n,r) = \\frac{n+1}{r+1}.$", "answer_choices": "frq", "answer": "", "solutions": ["Clearly, the sum of the desired least elements is $\\sum_{k=1}^{n} k {n-k \\choose r-1} = \\sum_{k=1}^{n} {k \\choose 1}{n-k \\choose r-1}$, which we claim to be equal to ${n+1 \\choose r+1}$ by virtue of the following argument.Consider a binary string of length $n+1$ which contains $r+1$ 1s. For some value of $k$ between 1 and $n$, inclusive, we say that the second 1 will occur in the $(k+1)$ th place. Clearly, there are ${k \\choose 1}$ ways to arrange the bits coming before the second 1, and ${n-k \\choose r-1}$ ways to arrange the bits after the second 1. Our identity follows.Since the sum of the least elements of the sets is ${n+1 \\choose r+1}$, the mean of the least elements is $\\frac{{n+1 \\choose r+1}}{{n \\choose r}} = \\frac{n+1}{r+1}$, Q.E.D."]}, "1986_usamo_problems/problem_5": {"id": {"year": 1986, "contest_name": "USAMO", "problem_number": 5}, "title": "1986 USAMO Problems/Problem 5", "problem": "By a partition $\\pi$ of an integer $n\\ge 1,$ we mean here a representation of $n$ as a sum of one or more positive integers where the summands must be put in nondecreasing order. (E.g., if $n=4,$ then the partitions $\\pi$ are $1+1+1+1,$ $1+1+2,$ $1+3, 2+2,$ and $4$ ). For any partition $\\pi,$ define $A(\\pi)$ to be the number of $1$ 's which appear in $\\pi,$ and define $B(\\pi)$ to be the number of distinct integers which appear in $\\pi$ (E.g., if $n=13$ and $\\pi$ is the partition $1+1+2+2+2+5,$ then $A(\\pi)=2$ and $B(\\pi) = 3$ ). Prove that, for any fixed $n,$ the sum of $A(\\pi)$ over all partitions of $\\pi$ of $n$ is equal to the sum of $B(\\pi)$ over all partitions of $\\pi$ of $n.$", "answer_choices": "frq", "answer": "", "solutions": ["Let $S(n) = \\sum\\limits_{\\pi} A(\\pi)$ and let $T(n) = \\sum\\limits_{\\pi} B(\\pi).$ We will use generating functions to approach this problem -- specifically, we will show that the generating functions of $S(n)$ and $T(n)$ are equal.Let us start by finding the generating function of $S(n).$ This function counts the total number of 1's in all the partitions of $n.$ Another way to count this is by counting the number of partitions of $n$ that contain $x$ 1's and multiplying this by $x,$ then summing for $1\\leq x \\leq n.$ However, the number of partitions of $n$ that contain $x$ 1's is the same as the number of partitions of $n-x$ that contain no 1's, so\\[S(n) = \\sum_{k=1}^n k\\cdot (\\text{\\# of partitions of }n-k\\text{ with no 1's}).\\]The number of partitions of $m$ with no 1's is the coefficient of $x^m$ in\\begin{align*} F(x) &= (1+x^2+x^4+\\ldots)(1+x^3+x^6+\\ldots)(1+x^4+x^8+\\ldots)\\ldots \\\\ &= \\prod\\limits_{i=2}^{\\infty}\\frac{1}{1-x^i} \\end{align*}Note that there is no $(1+x+x^2+x^3+\\ldots)$ term in $F(x)$ because we cannot have any 1's in the partition.Let $c_m$ be the coefficient of $x^m$ in the expansion of $F(x),$ so we can rewrite it as $F(x)=c_0+c_1x+c_2x^2+c_3x^3+\\ldots.$ We wish to compute $S(n)=1\\cdot c_{n-1}+2\\cdot c_{n-2}+\\ldots+n\\cdot c_0.$Consider the power series $G(x)=(x+2x^2+3x^3+4x^4+\\ldots)F(x).$\\begin{align*} G(x) &= (x+2x^2+3x^3+4x^4+\\ldots)(c_0+c_1x+c_2x^2+c_3x^3+\\ldots)\\\\ &= x(1+2x+3x^2+4x^3+\\ldots) \\prod\\limits_{i=2}^{\\infty}\\frac{1}{1-x^i}\\\\ &= x\\cdot\\frac{1}{(1-x)^2} \\prod\\limits_{i=2}^{\\infty}\\frac{1}{1-x^i}\\\\ &= \\frac{x}{1-x} \\prod\\limits_{i=1}^{\\infty}\\frac{1}{1-x^i} \\end{align*}If we expand the first line, we see that the coefficient of $x^n$ in $G(x)$ for any $n$ is $1\\cdot c_{n-1}+2\\cdot c_{n-2}+\\ldots+n\\cdot c_0,$ which is exactly $S(n)$! So by definition, $G(x)=\\frac{x}{1-x} \\prod\\limits_{i=1}^{\\infty}\\frac{1}{1-x^i}$ is the generating function of $S(n).$Now let's find the generating function of $T(n).$ Notice that counting the number of distinct elements in each partition and summing over all partitions is equivalent to counting how many partitions of $n$ contain i and then summing for all $1\\leq i \\leq n.$So,\\[T(n) = \\sum_{k=1}^n k\\cdot (\\text{\\# of partitions of }n\\text{ that contain a }k).\\]However, the number of partitions of n that contain a $i$ is the same as the total number of partitions of $n-i,$ so\n\n\\[T(n) = \\sum_{k=1}^n k\\cdot (\\text{\\# of partitions of }n-k).\\]The generating function for the number of partitions is\n\n\\begin{align*} P(x) &= (1+x+x^2+\\ldots)(1+x^2+x^4+\\ldots)(1+x^3+x^6+\\ldots)\\ldots \\\\ &= \\prod\\limits_{i=1}^{\\infty} \\frac{1}{1-x^i}. \\end{align*}Let's write the expansion of $P(x)$ as $P(x)=d_0+d_1x+d_2x^2+d_3x^3+\\ldots,$ so we wish to find $T(n)=d_0+d_1+d_2+\\ldots+d_{n-1}.$Consider the power series $H(x)=(x+x^2+x^3+x^4+\\ldots)P(x).$\\begin{align*} H(x) &= (x+x^2+x^3+x^4+\\ldots)(d_0+d_1x+d_2x^2+d_3x^3+\\ldots) \\\\ &= x(1+x+x^2+x^3+\\ldots) \\prod\\limits_{i=1}^{\\infty} \\frac{1}{1-x^i}\\\\ &= x\\cdot \\frac{1}{1-x}\\prod\\limits_{i=1}^{\\infty} \\frac{1}{1-x^i}\\\\ &= \\frac{x}{1-x} \\prod\\limits_{i=1}^{\\infty} \\frac{1}{1-x^i} \\end{align*}If we expand the first line, we see that the coefficient of $x^n$ in $H(x)$ for any $n$ is $d_{n-1}+d_{n-2}+\\ldots+d_0,$ which is precisely $T(n).$ This means $H(x)$ is the generating function of $T(n).$Thus, the generating functions of $S(n)$ and $T(n)$ are the same, so $S(n)=T(n)$ for all $n$ and we are done.~Peggy"]}, "1989_imo_problems/problem_6": {"id": {"year": 1989, "contest_name": "IMO", "problem_number": 6}, "title": "1989 IMO Problems/Problem 6", "problem": "A permutation $\\{x_1, \\ldots, x_{2n}\\}$ of the set $\\{1,2, \\ldots, 2n\\}$ where $\\mbox{n}$ is a positive integer, is said to have property $T$ if $|x_i - x_{i + 1}| = n$ for at least one $i \\in \\{1,2, \\ldots, 2n - 1\\}$. Show that, for each $\\mbox{n}$, there are more permutations with property $T$ than without.", "answer_choices": "frq", "answer": "", "solutions": ["So for the specific case when $n = 2$.We have the set $\\{1,2,3,4\\}$To satisfy the condition, the 2 numbers must be adjacent and we can have either $(1,3), (3,1), (2,4), (4,2)$ where $(x,y)$ represents an adjacent pair.To find those that satisfy $T$ we need to find: $(1,3) \\cup (3,1) \\cup (2,4) \\cup (4,2)$Using PIE we can find those that doesn't satisfy $T$ $\\overline{(1,3) \\cup (3,1) \\cup (2,4) \\cup (4,2)} = \\overline{(1,3)} \\cap \\overline{(3,1)} \\cap \\overline{(2,4)} \\cap \\overline{(4,2)}$Let $Q = |\\overline{(1,3)} \\cap \\overline{(3,1)} \\cap \\overline{(2,4)} \\cap \\overline{(4,2)}|$Defining an indicator function $I_y(x)$ where $y \\in \\{(1,3), (3,1), (2,4), (4,2)\\}$ with domain $x \\in \\mathbb{U}$ such that $\\mathbb{U}$ contains all sets $(x,y)$$I_y(x) = \\begin{cases} 0, & \\mbox{if} \\ \\mbox{x} \\ \\notin \\ \\mbox{y} \\\\ 1, & \\mbox{if} \\ \\mbox{x} \\ \\in \\ \\mbox{y} \\end{cases}$$Q = \\sum_{x \\in \\mathbb{U}} I_{\\overline{(1,3)}}(x) I_{\\overline{(3,1)}}(x)I_{\\overline{(2,4)}}(x)I_{\\overline{(4,2)}}(x)$$Q = \\sum_{x \\in \\mathbb{U}} (1-I_{(1,3)}(x))(1-I_{(3,1)}(x))(1-I_{(2,4)}(x))(1-I_{(4,2)}(x))$$Q = \\sum_{x \\in \\mathbb{U}} 1 - \\sum_{x \\in \\mathbb{U}}I_{(1,3)}(x)+I_{(3,1)}(x)+I_{(2,4)}(x)+I_{(4,2)}(x)+\\sum_{x \\in \\mathbb{U}} I_{(1,3)}(x)I_{(3,1)}(x) + I_{(1,3)}(x)I_{(2,4)}(x)+I_{(1,3)}(x)I_{(4,2)}(x) + I_{(3,1)}(x)I_{(2,4)}(x) +I_{(3,1)}(x)I_{(4,2)}(x)+I_{(2,4)}(x)I_{(4,2)}(x)-\\sum_{x \\in \\mathbb{U}}I_{(1,3)}(x)I_{(3,1)}(x)I_{(2,4)}(x)+I_{(1,3)}(x)I_{(2,4)}(x)I_{(4,2)}(x)+I_{(3,1)}(x)I_{(2,4)}(x)I_{(4,2)}(x)+I_{(1,3)}(x)I_{(3,1)}(x)I_{(4,2)}(x) + \\sum_{x \\in \\mathbb{U}}I_{(1,3)}(x)I_{(3,1)}(x)I_{(2,4)}(x)I_{(4,2)}(x)$Now to work out the cardinality of each consider the set $\\{(1,3), (3,1)\\}$ and $\\{(2,4), (4,2)\\}$The first sum is obvious: $\\sum_{x \\in \\mathbb{U}} 1 = 4!$The second sum is also pretty obvious: $\\sum_{x \\in \\mathbb{U}}I_{(1,3)}(x)+I_{(3,1)}(x)+I_{(2,4)}(x)+I_{(4,2)}(x) = 4!$The third sum is not so obvious since we have terms that equal 0, eg, $I_{(1,3)}(x)I_{(3,1)}(x) = 0$.Thus we need to pick any 2 pairs from the 1st set and any 2 pairs from the 2nd set.So there are $2 \\times 2 = 4$ non-zero pairs. Each pair however has 2 ways to rearrange. So the third sum equals $2 \\times 4 =8$The fourth sum is 0 since we need 3 sets but we only have 2 to pick from.The fifth sum is also 0 by the same argument as above.Now we can generalise.Consider the set $\\{1,2,3, \\cdots, 2n\\}$Let $(1,1+n), (1+n,1), (2,2+n), (2+n,2), \\cdots, (n,2n),(2n,n)$ represent the adjacent pairs. There are a total of 2n pairs.To find those that satisfy T we need to find $(1,1+n) \\cup (1+n,1) \\cup (2,2+n) \\cup (2+n,2) \\cup \\cdots \\cup (n,2n) \\cup (2n,n)$Using PIE we can find the complement of T: $\\overline{(1,1+n) \\cup (1+n,1) \\cup (2,2+n) \\cup (2+n,2) \\cup \\cdots \\cup (n,2n) \\cup (2n,n)} = \\overline{(1,1+n)} \\cap \\overline{(1+n,1)} \\cap \\overline{(2,2+n)} \\cap \\overline{(2+n,2)} \\cap \\cdots \\cap \\overline{(n,2n)} \\cap \\overline{(2n,n)}$Let $Q_n = |\\overline{(1,1+n)} \\cap \\overline{(1+n,1)} \\cap \\overline{(2,2+n)} \\cap \\overline{(2+n,2)} \\cap \\cdots \\cap \\overline{(n,2n)} \\cap \\overline{(2n,n)}|$Now we define an indicator function $I_y(x)$ where $y \\in \\{(1,1+n), (1+n,1), (2,2+n), (2+n,2), \\cdots, (n,2n),(2n,n)\\}$$I_y(x) = \\begin{cases} 0, & \\mbox{if} \\ \\mbox{x} \\ \\notin \\ \\mbox{y} \\\\ 1, & \\mbox{if} \\ \\mbox{x} \\ \\in \\ \\mbox{y} \\end{cases}$$Q_n = \\sum_{x \\in \\mathbb{U}} (1-I_{(1,1+n)}(x))(1-I_{(1+n,1)}(x))(1-I_{(2,2+n)}(x))(1-I_{(2+n,2)}(x)) \\cdots (1-I_{(n,2n)}(x))(1-I_{(2n,n)}(x))$$Q_n = \\sum_{x \\in \\mathbb{U}} 1 - \\sum_{x \\in \\mathbb{U}} I_{(1,1+n)}(x)+I_{(1+n,1)}(x)+ \\cdots + I_{(n,2n)}(x) + I_{(2n,n)}(x) + \\sum_{x \\in \\mathbb{U}} I_{(1,1+n)}(x)I_{(1+n,1)}(x)+I_{(1,1+n)}(x)I_{(2,2+n)}(x)+ \\cdots + I_{(1+n,n)}(x)I_{(2n,n)}(x) \\cdots - \\sum_{x \\in \\mathbb{U}}I_{(1,1+n)}(x)I_{(1+n,1)}(x)I_{(2,2+n)}(x) \\cdots+\\sum_{x \\in \\mathbb{U}} (I_{(1,1+n)}(x))(I_{(1+n,1)}(x))(I_{(2,2+n)}(x))(I_{(2+n,2)}(x)) \\cdots (I_{(n,2n)}(x))(I_{(2n,n)}(x))$The first sum equals $(2n)!$The second sum equals $\\binom{2n}{1}(2n-1)!$The third sum is a bit tricky since some pairs equal 0, thus consider all the different pairs placed into sets like this:$\\{(1,1+n), (1+n,1)\\}, \\{(2,2+n), (2+n,2)\\}, \\{(3,3+n), (3+n,n)\\}, \\cdots, \\{(n,2n), (2n,n)\\}$We need 2 pairs, since there are $\\mbox{n}$ sets, we need to pick 2 sets first $\\implies \\binom{n}{2}$. But each set contains 2 terms, thus we can have $2^2$ different pairings for each 2 sets.Therefore this sum equals $2^2\\binom{n}{2}(2n-2)!$The fourth sum is equal to $2^3\\binom{n}{3}(2n-3)!$The fifth sum is equal to $2^4\\binom{n}{4}(2n-4)!$.\n.\n.The last sum is equal to $2^{2n}\\binom{n}{2n}(2n-2n)!$In total we have $Q_n = (2n)!-(2n)! + 2^2\\binom{n}{2}(2n-2)! - 2^3\\binom{n}{3}(2n-3)! + 2^4\\binom{n}{4}(2n-4)! - \\cdots + 2^{2n}\\binom{n}{2n}(2n-2n)!$$Q_n = \\sum_{i=2}^{n}(-1)^{i}2^i\\binom{n}{i}(2n-i)!$So that means there are a total of $Q_n$ sets which does not satisfy $T$.Now we just have to prove that the number of sets that satisfy $T$ is larger than those that don't.The number of sets that satisfies $T$ is equal to $(2n)!-Q_n$.So we need to prove $(2n)!-Q_n > Q_n$$\\implies (2n)! > 2Q_n$First let $t_i$ represent $|(-1)^{i}2^i\\binom{n}{i}(2n-i)!|$$\\therefore Q_n = t_2-t_3+t_4-t_5+ \\cdots -t_{2n-1} + t_{2n}$We see that $2t_2 = (-1)^{2}2^3\\binom{n}{2}(2n-2)! = (2^2)\\left(\\frac{n!}{(n-2)!2!}\\right)(2n-2)! = (2^3)\\left(\\frac{n(n-1)}{2}\\right)(2n-2)! = 2n(2n-2)(2n-2)!$But $(2n)! = (2n)(2n-1)(2n-2)!$$(2n)(2n-1)(2n-2)! > 2n(2n-2)(2n-2)!$$\\implies (2n)! > 2t_2$Next take $t_3$ and $t_4$ for example.$t_3$ means at least 3 pairs satisfy T and $t_4$ means at least 4 pairs satisfy $T$.But at least 4 pairs is a subset of at least 3 pairs which means $t_4 \\subset t_3 \\implies |t_3| \\ge |t_4|$Generalising this leads to $t_i \\ge t_{i+1}$So $2Q_n = 2t_2 + 2(t_4-t_3) + \\cdots 2(t_{2n} - t_{2n-1})$$\\{(t_4-t_3), \\cdots, (t_{2n}-t_{2n-1})\\} \\le 0$$\\implies 2t_2 + 2(t_4-t_3) + \\cdots 2(t_{2n} - t_{2n-1}) \\le 2t_2 < (2n)!$$\\therefore 2Q_n < (2n)!$$\\mbox{Q.E.D}$", "Let $F$ be the number of permutations with property $T$, and $F_i$ be the set of permutations $\\{ x_1, x_2, \\ldots, x_{2n} \\}$ such that $|x_i - x_{i+1}| = n$. By the inclusion-exclusion principle,\\[|F| = \\bigg|\\bigcup_{i=1}^n F_i \\bigg| = \\sum_{i=1}^{2n-1} |F_i| - \\sum_{1\\leq i<j \\leq 2n-1} |F_i \\cap F_j| + E \\tag{1}\\]for some $E \\geq 0$. Let\u2019s calculate the first two sums on the far right.For any $i$, $|F_i| = 2n \\cdot (2n - 2)!$, since there are are $2n$ choices for $x_i$, which fixes $x_{i+1}$, and $(2n-2)!$ choices for the remaining elements. Thus\\[\\sum_{i=1}^{2n - 1}|F_i| = 2n \\cdot (2n - 2)! \\cdot (2n - 1) = (2n)!\\]Now let\u2019s compute $|F_i \\cap F_j|$, where $1 \\leq i < j \\leq 2n - 1$. It\u2019s not possible that $|x_i - x_{i+1}| = |x_{i+1}- x_{i+2}| = n$, since that would imply $x_i = x_{i+2}$. So $|F_i \\cap F_j| = 0$ if $j = i + 1$. If $j > i + 1$, then $|F_i \\cap F_j| = 2n \\cdot (2n - 2) \\cdot (2n - 4)!$ (there are $2n$ choices for $x_i, x_{i+1}$, $2n - 2$ for $x_j, x_{j+1}$, and $(2n - 4)!$ for everything else.)How often is $|F_i \\cap F_j| \\neq 0$? We know $i$ is at least $1$ and at most $2n - 3$, and for any value of $i$, there are $2n - 2 - i$ possible values for $j$. So the number of non-empty intersections $|F_i \\cap F_j|$ is\n\n\\[\\sum_{i=1}^{2n-3} 2n - 2 - i = \\sum_{i=1}^{2n-3}i = \\frac{(2n-3)(2n-2)}{2}.\\]\n\nNow we can compute\n\n\\begin{align*} \\sum_{1\\leq i < j \\leq 2n-1} |F_i \\cap F_j| &= 2n \\cdot (2n - 2) \\cdot (2n - 4)! \\cdot \\frac{(2n - 3)(2n - 2)}{2} \\\\ &= \\frac{2n \\cdot (2n-2)^2 \\cdot (2n - 3)!}{2} = \\frac{(2n)!}{2} \\cdot \\frac{2n - 2}{2n - 1} \\\\ &< \\frac{(2n)!}{2}. \\end{align*}Let\u2019s plug this into $(1)$ :\\[|F| = \\sum_{i=1}^{2n - 1} |F_i| - \\sum_{1\\leq i < j \\leq 2n-1} |F_i \\cap F_j| + E > (2n)! - \\frac{(2n)!}{2} + E \\geq \\frac{(2n)!}{2}.\\]So more than half of the $(2n)!$ permutations of $\\{1, \\ldots, 2n\\}$ have property $T$.", "Let $A_n$ be the set of permutations of $1,2, \\ldots,2n$ not having property $T$ and let $B_n$ be the set of permutations of $1,2, \\ldots,2n$ having exactly one value of $k\\geq2$ such that $|x_k-x_{k+1}|=n$. We will prove a 1-1 correspondence between $A_n$ and $B_n$.Consider any permutation in $A_n$. Now take $x_1$ and for the unique value $k$ such that $|x_1-x_k|=n$, put $x_1$ in the spot right before $x_k$. This will give us a permutation that belongs in the set $B_n$. Now consider a permutation in $B_n$. If you take $x_k$ and put it as the first term, you'll get a permutation that belongs in set $A_n$.Therefore, we've proved a 1-1 correspondence between the two.Because $|A_n|$ is clearly less than the number of permutations with property $T$, we finally have that the number of permutations with property $T$ is greater than the number of permutations without $T$.~BennettHuang"]}, "1996_usamo_problems/problem_6": {"id": {"year": 1996, "contest_name": "USAMO", "problem_number": 6}, "title": "1996 USAMO Problems/Problem 6", "problem": "Determine (with proof) whether there is a subset $X$ of the integers with the following property: for any integer $n$ there is exactly one solution of $a + 2b = n$ with $a,b \\in X$.", "answer_choices": "frq", "answer": "", "solutions": ["Start with an incomplete subset $S = (S_1, S_2, S_3,... S_m)$, such that for any integer n, there is exactly zero or one solutions to $a + 2b = n$ with $a,b \\in S$. Let $N$ be the smallest integer such that for any $S_i$, $|S_i| < N$. Note that $|S_i+2S_j| < 3N$ for any $S_i$ and $S_j$Suppose $M$ is the smallest non-negative integer without a solution in $S$ yet. Clearly, $0 \\le M \\le 3N$. Generate $S_{m+1}$ and $S_{m+2}$ such that $S_{m+1} = -10N - M$, and $S_{m+2} = 5N + M$. Thus, we now have the solution $S_{m+1}+2S_{m+2} = M$.Note: The values 10 and 5 can be replaced by any sufficiently large values such that the first is twice the second.Now, we must prove that the addition of these two terms to $S$ does not result in an integer n that has two solutions. Of course, $S_{m+1} + 2S_{m+2} = M$ which previously had no solutions. Furthermore, $S_{m+1} + 2S_{m+2} = -15N - M$.Since all of these sums (other than $M$ ) are either greater than $3N$ or less than $-3N$, they are all sums that previously had no solutions. Furthermore, none of these sums are duplicated, as sums of different forms are contained in disjoint ranges of integers.Thus, we have proved that we can generate a subset $S$ such that all non-negative integers n have a unique solution $a + 2b = n$.For negative integers M that have no solutions in $S$ a similar proof holds, but instead generating the terms $S_{m+1} = 10N - M$ and $S_{m+2} = -5N + M$.For any integer M that currently has no solution in S, we can always add two terms $S_{m+1}$ and $S_{m+2}$ such that $S_{m+1} + 2S_{m+2} = M$ that do not result in duplicated sums.Thus, there does exist a subset $X$ of the integers such that for any integer $n$ there is exactly one solution to $a + 2b = n$ with $a, b \\in X$."]}, "1999_usamo_problems/problem_1": {"id": {"year": 1999, "contest_name": "USAMO", "problem_number": 1}, "title": "1999 USAMO Problems/Problem 1", "problem": "Some checkers placed on an $n\\times n$ checkerboard satisfy the following conditions: (a) every square that does not contain a checker shares a side with one that does; (b) given any pair of squares that contain checkers, there is a sequence of squares containing checkers, starting and ending with the given squares, such that every two consecutive squares of the sequence share a side. Prove that at least $(n^{2}-2)/3$ checkers have been placed on the board.", "answer_choices": "frq", "answer": "", "solutions": ["For the proof let's look at the checkers board as a graph $G$, where the checkers are the vertices and the edges are every pair of checkers sharing a side.Define $R$ as the circuit rank of $G$ (the minimum number of edges to remove from a graph to remove all its cycles).Define $x$ as the number of checkers placed on the board.1. From (a) for every square containing a checker there can be up to 4 distinct squares without checkers; thus, $4\\times x + x = 5\\times x \\ge n^2$ (this is the most naive upper bound).2. From (b) this graph has to be connected. which means that no square which contains a checker can share 4 sides with squares that doesn't contain a checker (because it has to share at least one side with a square that contains a checker).3. Now it is possible to improve the upper bound. Since every edge in G represents a square with a checker that shares a side with a square with another checker, the new upper bound is $5\\times x - \\text{[sum of degrees in G]} \\ge n^2.$4. Thus, $5x - (2x - 2 + 2R) \\ge n^2$ (see lemma below).5. Thus, $3x + 2 - 2R \\ge n^2.$6. Thus, $x \\ge \\frac{n^2 - 2 + 2R}3,$ where $R\\ge0$ and is equal to 0 if $G$ is a tree.$\\textit{Clarification/Lemma:}$ The sum of degrees of a connected graph $G = (V,E)$ is $2V -2 + 2R = 2E,$ where $R$ is the circuit rank of $G$.$\\textit{Proof.}$ $2 \\times V -2$ is the sum of ranks of the spanning tree created by decircuiting the graph $G$. Since the circuit rank of $G$ is $R$, $2R$ is the sum of ranks removed from $G$. Thus, $2V -2 + 2R = 2 E.$ $\\blacksquare$", "Call a square of the checkerboard \u201cgood\u201d if it either has a checker on it or\nshares a side with a square with a checker on it.Say there are $k$ checkers on the board, sitting on squares $s_1, \\ldots, s_k$. We can assume WLOG that $s_1, \\ldots, s_k$ is ordered in such a way that if $1 \\leq i \\leq k$, then $s_i$ shares a side with at least one of $s_1, \\ldots, s_{i - 1}$. (If such an ordering were impossible, then there would be an $s_i$ which isn\u2019t connected to $s_1$ by a sequence of squares with checkers on them, violating condition (b).)Now imagine removing all the checkers and then putting them back onto the squares $s_1, \\ldots, s_k$ in that order, counting the number of good squares after each\nstep. When we put a checker on $s_1$, we increase the number of good squares\nby at most 5: the square $s_1$ becomes good, and each square it\nshares a side with (at most 4) becomes good. When we put a checker onto $s_i$,\nwhere $i > 1$, we increase the number of good squares by at most $3$, since $s_i$ is\nalready good, and at least $1$ of its at most $4$ neighbors already has a checker on it.So the total number of good squares when we\u2019ve put back every checker is at most $5 + 3(k - 1) = 3k + 2$. In order to satisfy condition (a), we have to make each of the $n^2$ squares good. In other words, we need $3k + 2 \\geq n^2$, or\n\n\\[k \\geq \\frac{n^2 - 2}{3}.\\]"]}, "2000_usamo_problems/problem_4": {"id": {"year": 2000, "contest_name": "USAMO", "problem_number": 4}, "title": "2000 USAMO Problems/Problem 4", "problem": "Find the smallest positive integer $n$ such that if $n$ squares of a $1000 \\times 1000$ chessboard are colored, then there will exist three colored squares whose centers form a right triangle with sides parallel to the edges of the board.", "answer_choices": "frq", "answer": "1999", "solutions": ["We claim that $n = 1999$ is the smallest such number. For $n \\le 1998$, we can simply color any of the $1998$ squares forming the top row and the left column, but excluding the top left corner square.We now show that no configuration with no colored right triangles exists for $n = 1999$. We call a row or column filled if all $1000$ of its squares are colored. Then any of the remaining $999$ colored squares must share a column or row, respectively, with one of the colored squares in a filled row or column. These two squares, and any other square in the filled row or column, form a colored right triangle, giving us a contradiction. Hence, no filled row or column may exist.Let $m$ be the number of columns with $1$ colored square. Then there are $1999-m$ colored squares in the remaining columns, and in each of these $< 1999-m$ columns that have a colored square must have at least two colored squares in them. These two colored squares will form a triangle with any other colored square in either of the rows containing the colored squares. Hence, each of the $1999-m$ colored squares must be placed in different rows, but as there are only $1000$ rows, the inequality $1999 - m \\le 1000 \\Longrightarrow m \\ge 999$ holds. If $m = 1000$, then each column only has $1$ colored square, leaving no place for the remaining $999$, contradiction. If $m = 999$, then each of the $1000$ rows has $1$ black square, leaving no place for the other $999$, contradiction. Hence $n = \\boxed{1999}$ is the minimal value."]}, "2001_imo_problems/problem_4": {"id": {"year": 2001, "contest_name": "IMO", "problem_number": 4}, "title": "2001 IMO Problems/Problem 4", "problem": "Let $n_1, n_2, \\dots, n_m$ be integers where $m>1$ is odd. Let $x = (x_1, \\dots, x_m)$ denote a permutation of the integers $1, 2, \\cdots, m$. Let $f(x) = x_1n_1 + x_2n_2 +... + x_mn_m$. Show that for some distinct permutations $a$, $b$ the difference $f(a) - f(b)$ is a multiple of $m!$.", "answer_choices": "frq", "answer": "", "solutions": ["Notice that if $\\{0,1,2,...,m!-1\\}\\not=\\{f(1),f(2),f(3),...,f(m!)\\}\\pmod{m!}$ then by the pigeon hole princible, there must be some $a,b\\in\\{1,2,...,m!\\}$ such that $f(a)\\equiv f(b)\\pmod{m!}$ as desired. Thus, we must prove that $\\{0,1,2,...,m!-1\\}\\not=\\{f(1),f(2),f(3),...,f(m!)\\}\\pmod{m!}$. Suppose there was such a situation. Then, since the two sets have the same number of elements, for every $t\\in\\{0,1,...,m!-1\\}$, there exists a $v\\in\\{1,2,...,m!\\}$ such that $t\\equiv f(v)\\pmod{m!}$. So, let $t\\equiv f(v_t)\\pmod{m!}$. Consider the sum $f(v_0)+f(v_1)+\\cdots+f(v_{m!-1})\\pmod{m!}$. Using the fact that $f(v_t)\\equiv t\\pmod{m!}$, we find the sum is congruent to $0+1+\\cdots+m!-1=\\frac{m!(m!-1)}{2}$.On the other hand, using the fact that $f(x)=x_1n_1 + x_2n_2 +... + x_mn_m$, we can combine the terms with the same coefficient ( $n_i$ ). For each $n_1$, since all the $v_j$ are distinct, the coefficient in the sum would be $\\sum x_i$ over all permutations $x$ of $\\{1,2,...,m\\}$. Thus, the coefficient would be $\\sum_{i=1}^m i(m-1)!=\\frac{m!(m+1)}{2}$. Since $m$ is odd, $\\frac{m+1}{2}$ is an integer, so the coefficient is congruent to $0\\pmod{m!}$. Thus, the whole sum is congruent to $0\\pmod{m!}$. Therefore, $\\frac{m!(m!-1)}{2}\\equiv0\\pmod{m!}$. But, since $m>1$, we have $m!$ is even, and thus $m!-1$ is odd. Therefore, the integer $\\frac{m!(m!-1)}{2}$ has one factor of $2$ less than $m!$ does. Contradiction!"]}, "2008_usamo_problems/problem_6": {"id": {"year": 2008, "contest_name": "USAMO", "problem_number": 6}, "title": "2008 USAMO Problems/Problem 6", "problem": "( Sam Vandervelde ) At a certain mathematical conference, every pair of mathematicians are either friends or strangers. At mealtime, every participant eats in one of two large dining rooms. Each mathematician insists upon eating in a room which contains an even number of his or her friends. Prove that the number of ways that the mathematicians may be split between the two rooms is a power of two (i.e., is of the form $2^k$ for some positive integer $k$ ).", "answer_choices": "frq", "answer": "", "solutions": ["Make the obvious re-interpretation as a graph. Let $f\u00a0: G \\to \\{0,1\\}$ be an indicator function with $f(v) = 0$ if a vertex is in the first partition and $f(v) = 1$ otherwise (this corresponds, in the actual problem, to putting a mathematician in the first or second room). Then look at $f$ as a function into the field with two elements, $F_2$. Let $V$ be the vector space of all such functions. Define the linear operator $A\u00a0: V \\to V$ as\\[(Af)(v) = \\sum_{v \\sim w} f(v) - f(w)\\]where $\\sim$ denotes adjacency. (Note that we can also think of $A$ as a matrix, which is essentially the adjacency matrix where the diagonal is changed to be $1$ whenever the degree is odd; in more technical terms, it is the Laplacian of $G$ over $F_2$ ). Then $f$ is a valid partition iff $(Af)(v) = d(v)$, where $d$ is the degree of $v$, for all $v$ (this is taken over $F_2$ ). So we want all solution to $Af = d$. Note that if $Af = d, Ag = d$, then $A(f - g) = 0$, so $f - g$ is in the nullspace. Thus in particular the number of solutions, if non-zero, is the size of the nullspace of $A$, which is $2^{dim(Null(A))}$ by considering all linear combinations of any basis of $Null(A)$ over $F_2$. Also let $i$ be such that $i(v) = 1$ for all $v$. Then clearly $Ai = 0$, so $dim(Null(A)) > 0$, establishing that the number of ways to do this is $2^k$, $k > 0$. Thus we need only prove the existence of a solution.Since we can add a new vertex connected to exactly one previously existing vertex without changing the problem, without loss of generality all vertices have odd degree. Then we want to show that $i \\in Col(A)$. But it is a well-known fact in linear algebra that $Col(A) = Null(A^T)^{\\perp} = Null(A)^{\\perp}$ since $A$ is symmetric. Thus we need to show that if $f \\in Null(A)$, $f$ is perpendicular to $i$ and we will be done. So let $f \\in Null(A)$. Take the submatrix of $A$ consisting of the rows and columns $v$ such that $f(v) = 1$. Then, since $f \\in Null(A)$, the sum of each row in this submatrix must be $0$ in $F_2$. Thus the total number of $1$ s in this submatrix is even. But since it is symmetric, the total number of $1$ s off of the diagonal is even, so the total number of $1$ s on the diagonal is even. But since every vertex has odd degree, the entire diagonal of $A$ consists of $1$ s, so this says that the size of the diagonal of this submatrix is even. But this is also the number of $v$ such that $f(v) = 1$, so $f(v) = 1$ for an even number of $v$, thus is perpendicular to $i$, and we have our result."]}, "2014_imo_problems/problem_5": {"id": {"year": 2014, "contest_name": "IMO", "problem_number": 5}, "title": "2014 IMO Problems/Problem 5", "problem": "For each positive integer $n$, the Bank of Cape Town issues coins of denomination $\\tfrac{1}{n}$. Given a finite collection of such coins (of not necessarily different denominations) with total value at most $99+\\tfrac{1}{2}$, prove that it is possible to split this collection into $100$ or fewer groups, such that each group has total value at most $1$.", "answer_choices": "frq", "answer": "", "solutions": ["The bound is not tight. We'll prove the result for at most $k - \\frac{k}{2k+1}$ with $k$ groups.First, perform the following optimizations.\n- If any coin of size $\\frac{1}{2m}$ appears twice, then replace it with a single coin of size $\\frac{1}{m}$.\n- If any coin of size $\\frac{1}{2m+1}$ appears $2m+1$ times, group it into a single group and induct downwards.\nApply this operation repeatedly until it cannot be done anymore.Now construct boxes $B_0$, $B_1$,...., $B_{k-1}$. In box $B_0$ put any coins of size $\\tfrac 12$ (clearly there is at most one).\nIn the other boxes $B_m$, put coins of size $\\frac{1}{2m+1}$ and $\\frac{1}{2m+2}$ (at most $2m$ of the former and at most one of the latter).\nNote that the total weight in the box is less than $1$.\nFinally, place the remaining ``light coins of size at most $\\frac{1}{2k+1}$ in a pile.Then just toss coins from the pile into the boxes arbitrarily, other than the proviso that no box should have its weight exceed $1$.\nWe claim this uses up all coins in the pile. Assume not, and that some coin remains in the pile when all the boxes are saturated.\nThen all the boxes must have at least $1 -\\frac{1}{2k+1}$, meaning the total amount in the boxes is strictly greater than\n\n\\[k \\left( 1 - \\frac{1}{2k+1} \\right)\\]\n\nwhich is a contradiction. (The inequality is strict since the pile has a coin leftover.)Alternate solutions are always welcome. If you have a different, elegant solution to this problem, please add it to this page."]}, "2021_usajmo_problems/problem_4": {"id": {"year": 2021, "contest_name": "USAJMO", "problem_number": 4}, "title": "2021 USAJMO Problems/Problem 4", "problem": "Carina has three pins, labeled $A, B$, and $C$, respectively, located at the origin of the coordinate plane. In a move, Carina may move a pin to an adjacent lattice point at distance $1$ away. What is the least number of moves that Carina can make in order for triangle $ABC$ to have area 2021? (A lattice point is a point $(x, y)$ in the coordinate plane where $x$ and $y$ are both integers, not necessarily positive.)", "answer_choices": "frq", "answer": "", "solutions": ["The answer is $128$, achievable by $A=(10,0), B=(0,-63), C=(-54,1)$. We now show the bound.We first do the following optimizations:-if you have a point goes both left and right, we may obviously delete both of these moves and decrease the number of moves by $2$.-if all of $A,B,C$ lie on one side of the plane, for example $y>0$, we shift them all down, decreasing the number of moves by $3$, until one of the points is on $y=0$ for the first time.Now we may assume that $A=(a,d)$, $B=(b,-e)$, $C=(-c,f)$ where $a,b,c,d,e,f \\geq 0$. Note we may still shift all $A,B,C$ down by $1$ if $d,f>0$, decreasing the number of moves by $1$, until one of $d,f$ is on $y=0$ for the first time. So we may assume one of $(a,b)$ and $(d,f)$ is $0$, by symmetry. In particular, by shoelace the answer to 2021 JMO Problem 4 is the minimum of the answers to the following problems:Case 1 (where $a=d=0$ ) if $wx-yz=4042$, find the minimum possible value of $w+x+y+z$.Case 2 (else) $wy+xy+xz=(w+x)(y+z)-wz=4042$, find the minimum possible value of $w+x+y+z$.Note that $(m+n)^2=4mn+(m-n)^2$ so if $m+n$ is fixed then $mn$ is maximized exactly when $|m-n|$ is minimized. In particular, if $m+n \\leq 127$ then $mn-op \\leq mn \\leq 63*64 = 4032 <4042$ as desired.~Lcz"]}, "2000_usamo_problems/problem_3": {"id": {"year": 2000, "contest_name": "USAMO", "problem_number": 3}, "title": "2000 USAMO Problems/Problem 3", "problem": "A game of solitaire is played with $R$ red cards, $W$ white cards, and $B$ blue cards. A player plays all the cards one at a time. With each play he accumulates a penalty. If he plays a blue card, then he is charged a penalty which is the number of white cards still in his hand. If he plays a white card, then he is charged a penalty which is twice the number of red cards still in his hand. If he plays a red card, then he is charged a penalty which is three times the number of blue cards still in his hand. Find, as a function of $R, W,$ and $B,$ the minimal total penalty a player can amass and all the ways in which this minimum can be achieved.", "answer_choices": "frq", "answer": "", "solutions": ["We claim (inductively) that the minimum is just going to be $\\min(BW,2WR,3RB)$. We'll start our induction with the case where one of the three quantities is zero, in which case we verify that we can indeed get away without any penalty by, for example, discarding blue if we are out of white.Now, for the inductive step, let $f(B,W,R)$ be the minimum we seek. Note that\n\n\\[f(B,W,R) = \\min(W+f(B-1,W,R),2R+f(B,W-1,R),3B+f(B,W,R-1))\\]\n\nBy our inductive hypothesis, $f(B-1,W,R) = \\min((B-1)W,2WR,3R(B-1))$. In order for this to cause our inductive step not to hold, we would require that $W+\\min((B-1)W,2WR,3R(B-1)) < \\min(BW,2WR,3RB)$. It is evident that the first two entries in the $min$ expression cannot cause this to happen, so that we need only consider $W+3R(B-1) < \\min(BW,2WR,3RB)$. So $W+3R(B-1) < BW$, whence $3R < W$. But $W+3R(B-1) < 3RB$, so that $W < 3R$, a contradiction.For the other two cases, we can get similar contradictions, so that our inductive step must hold, and so $f(B,W,R)$ is indeed $\\min(BW,2WR,3RB)$.We now need only establish how many ways to do this. If one of these quantities is smaller, our induction and the fact that it is eventually zero guarantees that it will continue to be the smallest quantity as cards are discarded. (For example, if it is currently optimal to discard a blue card, it will continue to be so until we run out of blue cards.) Therefore, assuming that there is currently only one best choice of card to discard, this will continue to be so in the future, whence if $BW \\neq 2WR \\neq 3RB$, there is only $1$ optimal strategy.Suppose, now, that $BW = 2WR$. It is thus optimal to discard either a $B$ or $W$ card. If we ever discard a blue card, then we will cause $BW < 2WR$, whence there is only one possible strategy from then on. However, if we discard a white card, then we will still have $BW = 2WR$, meaning that we continue to have the choice of discarding a white or blue card. Since we can discard a white card at most $W$ times, there are $W+1$ choices for how many $W$ cards to discard ( $0$ to $W$ ), meaning that there are $W+1$ optimal strategies.By similar logic, we get $R+1$ optimal strategies if $2WR = 3RB$, and $B+1$ optimal strategies if $3RB = BW$.The final case, then, is if $BW = 2WR = 3RB$. In this case, if we first discard a white card, we are left with the $BW = 2WR$ case, and similarly for a blue and red card. The total number of optimal strategies in this case is then the sum of the optimal strategies in those cases, or, in other words, $B+W+R$.To summarize:\nThe minimum penalty is $\\min(BW,2WR,3RB)$.\nIf $BW \\neq 2WR \\neq 3RB$, there is $1$ optimal strategy.\nIf $BW = 2WR < 3RB$, there are $W+1$ strategies.\nIf $2WR = 3RB < BW$, there are $R+1$ strategies.\nIf $3RB = BW < 2WR$, there are $B+1$ strategies.\nIf $BW = 2WR = 3RB$, there are $R+B+W$ strategies.By J Steinhardt, from AoPS Community"]}}